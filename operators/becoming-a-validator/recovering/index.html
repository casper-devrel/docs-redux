<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-operators/becoming-a-validator/recovering" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Recovery | Casper Docs - Redux</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://casper-devrel.github.io/docs-redux/operators/becoming-a-validator/recovering/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Recovery | Casper Docs - Redux"><meta data-rh="true" name="description" content="This topic discusses the steps a validator needs to take if it is evicted from the validator set:"><meta data-rh="true" property="og:description" content="This topic discusses the steps a validator needs to take if it is evicted from the validator set:"><link data-rh="true" rel="icon" href="/docs-redux/icon/favicon.ico"><link data-rh="true" rel="canonical" href="https://casper-devrel.github.io/docs-redux/operators/becoming-a-validator/recovering/"><link data-rh="true" rel="alternate" href="https://casper-devrel.github.io/docs-redux/operators/becoming-a-validator/recovering/" hreflang="en"><link data-rh="true" rel="alternate" href="https://casper-devrel.github.io/docs-redux/operators/becoming-a-validator/recovering/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://MNXHU24AHO-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Casper Docs - Redux" href="/docs-redux/opensearch.xml"><link rel="stylesheet" href="/docs-redux/assets/css/styles.b32935ac.css">
<script src="/docs-redux/assets/js/runtime~main.9d166059.js" defer="defer"></script>
<script src="/docs-redux/assets/js/main.21da0b39.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-redux/"><div class="navbar__logo"><img src="/docs-redux/icon/Casper_Wordmark_Red_RGB.png" alt="Casper Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-redux/icon/Casper_Wordmark_White_RGB.png" alt="Casper Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs-redux/concepts/">Concepts</a><a class="navbar__item navbar__link" href="/docs-redux/developers/">Developers</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs-redux/operators/">Operators</a><a class="navbar__item navbar__link" href="/docs-redux/users/">Users</a><a class="navbar__item navbar__link" href="/docs-redux/resources/">Resources</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://support.casperlabs.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.com/invite/casperblockchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/casper-network/docs/blob/dev/README.md" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/operators/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs-redux/operators/setup/">Node Setup</a><button aria-label="Expand sidebar category &#x27;Node Setup&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs-redux/operators/becoming-a-validator/">Validators</a><button aria-label="Collapse sidebar category &#x27;Validators&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/operators/becoming-a-validator/bonding/">Bonding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/operators/becoming-a-validator/unbonding/">Unbonding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-redux/operators/becoming-a-validator/recovering/">Recovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/operators/becoming-a-validator/inactive-vs-faulty/">Inactive and Faulty Nodes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs-redux/operators/setup-network/">Private Networks</a><button aria-label="Expand sidebar category &#x27;Private Networks&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs-redux/operators/maintenance/">Maintenance</a><button aria-label="Expand sidebar category &#x27;Maintenance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-redux/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs-redux/operators/becoming-a-validator/"><span itemprop="name">Validators</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Recovery</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><p>import useBaseUrl from &#x27;@docusaurus/useBaseUrl&#x27;;</p>
<h1>Recovering from Validator Eviction</h1>
<p>This topic discusses the steps a validator needs to take if it is evicted from the validator set:</p>
<ol>
<li>Detecting the eviction</li>
<li>Correcting any underlying node issues</li>
<li>Re-building the contracts for bonding</li>
<li>Activating the bid</li>
<li>Checking the bid</li>
</ol>
<p>The <a href="/docs-redux/operators/becoming-a-validator/inactive-vs-faulty/">Inactive vs. Faulty Validator Nodes</a> topic explains why a node would be evicted.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="detecting-the-eviction">Detecting the Eviction<a class="hash-link" aria-label="Direct link to Detecting the Eviction" title="Direct link to Detecting the Eviction" href="/docs-redux/operators/becoming-a-validator/recovering/#detecting-the-eviction">​</a></h2>
<p>The validator selection occurs at the end of an Era. Due to the bonding delay, this determines the Validators for the Era after the Era is about to start. When a validating node does not participate in consensus for some time, it will be marked invalid and evicted at the end of the next Era.</p>
<p>For example, if we are in Era 100 and your node is invalid, your node will be marked for eviction to be removed at the start of Era 102. This is due to the bonding delay of 1 Era.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="detection-using-csprlive">Detection using CSPR.live<a class="hash-link" aria-label="Direct link to Detection using CSPR.live" title="Direct link to Detection using CSPR.live" href="/docs-redux/operators/becoming-a-validator/recovering/#detection-using-csprlive">​</a></h3>
<p>If you were a previous validator and still exist on the <a href="https://cspr.live/validators-auction" target="_blank" rel="noopener noreferrer">Validators Auction</a> tab but not in <a href="https://cspr.live/validators" target="_blank" rel="noopener noreferrer">Validators</a>, you may have been evicted or outbid.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="detection-using-the-casper-client">Detection using the Casper Client<a class="hash-link" aria-label="Direct link to Detection using the Casper Client" title="Direct link to Detection using the Casper Client" href="/docs-redux/operators/becoming-a-validator/recovering/#detection-using-the-casper-client">​</a></h3>
<p>All auction information is returned with the <code>casper-client get-auction-info</code> command. It would help if you filtered this down to your public key.</p>
<p>You can replace the &lt;public_key&gt; with your public key manually and run this command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-auction-info | jq &#x27;.result.auction_state.bids[] | select( .public_key == &quot;&lt;public_key&gt;&quot;)&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or, if you set up the node as described in this documentation, you can run another command that will automatically put in your public key:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-auction-info | jq --arg pk &quot;$(cat /etc/casper/validator_keys/public_key_hex)&quot; &#x27;.result.auction_state.bids[] | select( (.public_key | ascii_downcase) == ($pk | ascii_downcase) )&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You know you were evicted if the <code>get-auction-info</code> command returned your bid showing an <strong>inactive</strong> field. See the <a href="/docs-redux/operators/becoming-a-validator/inactive-vs-faulty/">Inactive vs. Faulty Validator Nodes</a> page for more information.</p>
<p>If you receive a <code>parse error: Invalid numeric literal at</code>, this usually means that your RPC port is not up yet. Get your node in sync, and the RPC will come up. This should be working before you try to recover. Try running the following command to check the status of your RPC port:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-auction-info</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="correcting-any-underlying-node-issues">Correcting any Underlying Node Issues<a class="hash-link" aria-label="Direct link to Correcting any Underlying Node Issues" title="Direct link to Correcting any Underlying Node Issues" href="/docs-redux/operators/becoming-a-validator/recovering/#correcting-any-underlying-node-issues">​</a></h2>
<p>Before fixing the eviction, you need to correct the problem that caused your node to be evicted. Stage missed upgrades, correct any node issues, and get your node in sync.</p>
<p>To check if your node is in sync, compare the current block height at <a href="https://cspr.live/" target="_blank" rel="noopener noreferrer">https://cspr.live/</a> with the height from your node with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -s localhost:8888/status | jq .last_added_block_info</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you cannot figure out the issue, ask for help in the <em>node-tech-support</em> channel on <a href="https://discord.com/invite/casperblockchain" target="_blank" rel="noopener noreferrer">Discord</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="activating-the-bid">Activating the Bid<a class="hash-link" aria-label="Direct link to Activating the Bid" title="Direct link to Activating the Bid" href="/docs-redux/operators/becoming-a-validator/recovering/#activating-the-bid">​</a></h2>
<p>Once your node is in sync and ready to validate again, you must activate your invalid bid. There are two ways to reactivate your bid. The recommended and cheaper method is to call the <code>activate_bid</code> entry point from the system auction contract. The second method involves building the <code>activate_bid.wasm</code> contract as explained in <a href="/docs-redux/operators/setup/joining/#step-3-build-contracts">Building the Required Contracts</a>.</p>
<p>We recommend testing the following steps on the official Testnet before performing them in a live environment like the Casper Mainnet.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="activating-system-auction">Method 1: Activating the Bid with the System Auction Contract<a class="hash-link" aria-label="Direct link to Method 1: Activating the Bid with the System Auction Contract" title="Direct link to Method 1: Activating the Bid with the System Auction Contract" href="/docs-redux/operators/becoming-a-validator/recovering/#activating-system-auction">​</a></h3>
<p>This method calls the existing <code>activate_bid</code> entry point from the system auction contract. Using this method, you do not need to build any contracts, reducing costs and complexity.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo -u casper casper-client put-deploy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address &lt;HOST:PORT&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key &lt;PATH&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name &lt;CHAIN_NAME&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount &lt;PAYMENT_AMOUNT_IN_MOTES&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-hash &lt;SESSION_HASH&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-entry-point activate_bid \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;validator_public_key:public_key=&#x27;$(cat /etc/casper/validator_keys/public_key_hex)&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li><code>node-address</code> - An IP address of a peer on the network. The default port of nodes&#x27; JSON-RPC servers on Mainnet and Testnet is 7777</li>
<li><code>secret-key</code> - The file name containing the secret key of the account paying for the Deploy</li>
<li><code>chain-name</code> - The chain-name to the network where you wish to send the Deploy. For Mainnet, use <em>casper</em>. For Testnet, use <em>casper-test</em></li>
<li><code>payment-amount</code> - The payment for the Deploy in motes. You must check the network&#x27;s chainspec. For example, this entry point call needs 10,000 motes for node version <a href="https://github.com/casper-network/casper-node/blob/release-1.5.1/resources/production/chainspec.toml" target="_blank" rel="noopener noreferrer">1.5.1</a></li>
<li><code>session-hash</code> - Hex-encoded hash of the stored auction contract, which depends on the network you are using. For Casper&#x27;s Mainnet and Testnet, the hashes are:</li>
</ol>
<ul>
<li><strong>Testnet</strong>: <code>hash-93d923e336b20a4c4ca14d592b60e5bd3fe330775618290104f9beb326db7ae2</code></li>
<li><strong>Mainnet</strong>: <code>hash-ccb576d6ce6dec84a551e48f0d0b7af89ddba44c7390b690036257a04a3ae9ea</code></li>
</ul>
<ol start="6">
<li><code>session-entry-point</code> - Name of the entry point that will be used when calling the system auction contract. In this case, it is <code>activate_bid</code></li>
</ol>
<p>The <code>activate_bid</code> entry point expects one argument:</p>
<ol start="7">
<li><code>validator_public_key</code>: The hexadecimal public key of the validator reactivating its bid. <strong>This key must match the secret key that signs the bid activation request</strong></li>
</ol>
<p>The command will return a deploy hash, which is needed to verify the deploy&#x27;s processing results. Refer to the <a href="/docs-redux/resources/tutorials/beginner/querying-network/#deploy-status">Deploy Status</a> section for more details.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Calling the <code>activate_bid</code> entry point on the auction contract has a fixed cost of 10,000 motes.</p></div></div>
<p><strong>Example:</strong></p>
<p>This example uses the Casper Testnet to reactivate a bid:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo -u casper casper-client put-deploy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address http://65.21.75.254:7777  \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key /etc/casper/validator_keys/secret_key.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name casper-test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount 10000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-hash hash-93d923e336b20a4c4ca14d592b60e5bd3fe330775618290104f9beb326db7ae2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-entry-point activate_bid \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;validator_public_key:public_key=&#x27;$(cat /etc/casper/validator_keys/public_key_hex)&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Next, <a href="/docs-redux/operators/becoming-a-validator/recovering/#checking-the-bid-activation">check the bid activation</a> status.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="activating-compiled-wasm">Method 2: Activating the Bid with Compiled Wasm<a class="hash-link" aria-label="Direct link to Method 2: Activating the Bid with Compiled Wasm" title="Direct link to Method 2: Activating the Bid with Compiled Wasm" href="/docs-redux/operators/becoming-a-validator/recovering/#activating-compiled-wasm">​</a></h3>
<p>The second method to rejoin the network is to reactivate your bid using the <code>activate_bid.wasm</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo -u casper casper-client put-deploy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address &lt;HOST:PORT&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key &lt;PATH&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name &lt;CHAIN_NAME&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount &lt;PAYMENT_AMOUNT_IN_MOTES&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-path &quot;$HOME/casper-node/target/wasm32-unknown-unknown/release/activate_bid.wasm&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;validator_public_key:public_key=&#x27;$(cat /etc/casper/validator_keys/public_key_hex)&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li><code>node-address</code> - An IP address of a peer on the network. The default port of nodes&#x27; JSON-RPC servers on Mainnet and Testnet is 7777</li>
<li><code>secret-key</code> - The file name containing the secret key of the account paying for the Deploy</li>
<li><code>chain-name</code> - The chain-name to the network where you wish to send the Deploy. For Mainnet, use <em>casper</em>. For Testnet, use <em>casper-test</em></li>
<li><code>payment-amount</code> - The payment for the Deploy in motes</li>
<li><code>session-path</code> - The path to the compiled Wasm on your computer</li>
</ol>
<p>The <code>activate_bid.wasm</code> expects one argument:</p>
<ol start="6">
<li><code>validator_public_key</code>: The hexadecimal public key of the validator reactivating its bid. <strong>This key must match the secret key that signs the bid activation request</strong></li>
</ol>
<p>The command will return a deploy hash, which is needed to verify the deploy&#x27;s processing results.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>As described above, this method is much more expensive than calling the <code>activate_bid</code> entry point.</p></div></div>
<p><strong>Example:</strong></p>
<p>Here is an example that reactivates a bid using the <code>activate_bid.wasm</code>. You must modify the payment and other values in the deploy based on your environment and the network&#x27;s <a href="/docs-redux/concepts/glossary/C/#chainspec">chainspec.toml</a>. For example, if you use the <code>activate_bid.wasm</code> on a network with node version <a href="https://github.com/casper-network/casper-node/blob/release-1.4.9/resources/production/chainspec.toml" target="_blank" rel="noopener noreferrer">1.4.9</a>, you will require a balance of at least 5 CSPR for this contract.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo -u casper casper-client put-deploy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address http://65.21.75.254:7777  \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key /etc/casper/validator_keys/secret_key.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name casper-test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount 5000000000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-path &quot;$HOME/casper-node/target/wasm32-unknown-unknown/release/activate_bid.wasm&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;validator_public_key:public_key=&#x27;$(cat /etc/casper/validator_keys/public_key_hex)&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Check that the deploy was successful with the <code>casper-client get-deploy &lt;deploy_hash&gt;</code> or by searching for the deploy hash on <a href="https://cspr.live/" target="_blank" rel="noopener noreferrer">https://cspr.live/</a>. Also, check the bid activation status as shown below.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="checking-the-bid-activation">Checking the Bid Activation<a class="hash-link" aria-label="Direct link to Checking the Bid Activation" title="Direct link to Checking the Bid Activation" href="/docs-redux/operators/becoming-a-validator/recovering/#checking-the-bid-activation">​</a></h2>
<p>Once your deploy processes, you can <a href="/docs-redux/operators/becoming-a-validator/recovering/#detecting-the-eviction-using-the-casper-client">check your bid</a> again. You should now see <code>&quot;inactive&quot;: false</code> in the output.</p>
<p>If you wait until the next Era starts, you should also see your public key as a future validator on the <a href="https://cspr.live/validators" target="_blank" rel="noopener noreferrer">Validators</a> tab.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-redux/operators/becoming-a-validator/unbonding/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Unbonding</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs-redux/operators/becoming-a-validator/inactive-vs-faulty/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Inactive and Faulty Nodes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs-redux/operators/becoming-a-validator/recovering/#detecting-the-eviction">Detecting the Eviction</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs-redux/operators/becoming-a-validator/recovering/#detection-using-csprlive">Detection using CSPR.live</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-redux/operators/becoming-a-validator/recovering/#detection-using-the-casper-client">Detection using the Casper Client</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs-redux/operators/becoming-a-validator/recovering/#correcting-any-underlying-node-issues">Correcting any Underlying Node Issues</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-redux/operators/becoming-a-validator/recovering/#activating-the-bid">Activating the Bid</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs-redux/operators/becoming-a-validator/recovering/#activating-system-auction">Method 1: Activating the Bid with the System Auction Contract</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-redux/operators/becoming-a-validator/recovering/#activating-compiled-wasm">Method 2: Activating the Bid with Compiled Wasm</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs-redux/operators/becoming-a-validator/recovering/#checking-the-bid-activation">Checking the Bid Activation</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright"><div id="footer" class="footer-inner-container">
    <div class="footer-bottom">
        <ul class="items left">
            <li>
                <a href="https://casper.network/en/network" target="_blank" rel="noopener">
                    <img class="footer-logo" src="/icon/Casper_Wordmark_White_RGB.png" alt="Casper Logo">
                </a>
            </li>
            <li>© 2023 Casper Association</li>
        </ul>
        <ul class="items right">
            <li class="trademark">
                <a href="https://casper.network/network/trademark-policy" target="_blank" rel="noopener">Trademark Policy and Guidelines</a>
            </li>
        </ul>
    </div>
</div>
</div></div></div></footer></div>
</body>
</html>