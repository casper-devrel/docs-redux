<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-1.5.6 docs-doc-page docs-doc-id-resources/advanced/multi-sig/multi-sig-workflow" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Multi-Sig Workflow | Casper Docs - Redux</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://casper-devrel.github.io/docs-redux/resources/advanced/multi-sig/multi-sig-workflow/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.5.6"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.5.6"><meta data-rh="true" name="docsearch:version" content="1.5.6"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.5.6"><meta data-rh="true" property="og:title" content="Multi-Sig Workflow | Casper Docs - Redux"><meta data-rh="true" name="description" content="The purpose of this tutorial is to provide an example of how to integrate key management on Casper accounts. This guide assumes previous completion of the Two-Party Multi-Signature Deploys tutorial, among other prerequisites. You will also need the Casper CLI client to use the make-deploy, sign-deploy, and send-deploy Casper CLI client commands."><meta data-rh="true" property="og:description" content="The purpose of this tutorial is to provide an example of how to integrate key management on Casper accounts. This guide assumes previous completion of the Two-Party Multi-Signature Deploys tutorial, among other prerequisites. You will also need the Casper CLI client to use the make-deploy, sign-deploy, and send-deploy Casper CLI client commands."><link data-rh="true" rel="icon" href="/docs-redux/icon/favicon.ico"><link data-rh="true" rel="canonical" href="https://casper-devrel.github.io/docs-redux/resources/advanced/multi-sig/multi-sig-workflow/"><link data-rh="true" rel="alternate" href="https://casper-devrel.github.io/docs-redux/resources/advanced/multi-sig/multi-sig-workflow/" hreflang="en"><link data-rh="true" rel="alternate" href="https://casper-devrel.github.io/docs-redux/resources/advanced/multi-sig/multi-sig-workflow/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://A1AAQ71KTN-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/docs-redux/blog/rss.xml" title="Casper Docs - Redux RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs-redux/blog/atom.xml" title="Casper Docs - Redux Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Casper Docs - Redux" href="/docs-redux/opensearch.xml"><link rel="stylesheet" href="/docs-redux/assets/css/styles.60332a77.css">
<script src="/docs-redux/assets/js/runtime~main.5c2d2479.js" defer="defer"></script>
<script src="/docs-redux/assets/js/main.0af7f5eb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-redux/"><div class="navbar__logo"><img src="/docs-redux/icon/Casper_Wordmark_Red_RGB.png" alt="Casper Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-redux/icon/Casper_Wordmark_White_RGB.png" alt="Casper Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs-redux/docs-redux/concepts/">Concepts</a><a class="navbar__item navbar__link" href="/docs-redux/docs-redux/developers/">Developers</a><a class="navbar__item navbar__link" href="/docs-redux/docs-redux/operators/">Operators</a><a class="navbar__item navbar__link" href="/docs-redux/docs-redux/users/">Users</a><a class="navbar__item navbar__link" href="/docs-redux/docs-redux/resources/">Resources</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs-redux/blog/">Blog</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs-redux/resources/advanced/multi-sig/multi-sig-workflow/">1.5.6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs-redux/next/resources/advanced/multi-sig/multi-sig-workflow/">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs-redux/resources/advanced/multi-sig/multi-sig-workflow/">1.5.6</a></li></ul></div><a href="https://support.casperlabs.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.com/invite/casperblockchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/casper-network/docs/blob/dev/README.md" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/resources/">Resources Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/resources/build-on-casper/introduction/">Build on Casper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/resources/moving-to-casper/">Move to Casper</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs-redux/resources/tokens/">Casper Token Standards</a><button aria-label="Expand sidebar category &#x27;Casper Token Standards&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/resources/build-on-casper/casper-open-source-software/">Open-Source Software</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/resources/quick-start/">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs-redux/resources/tutorials/beginner/">Beginner Tutorials</a><button aria-label="Expand sidebar category &#x27;Beginner Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs-redux/resources/tutorials/advanced/">Advanced Tutorials</a><button aria-label="Collapse sidebar category &#x27;Advanced Tutorials&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/resources/tutorials/advanced/two-party-multi-sig/">Two-Party Multi-Sig</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs-redux/resources/advanced/multi-sig/">Multi-Sig Management</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/resources/advanced/multi-sig/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-redux/resources/advanced/multi-sig/multi-sig-workflow/">Multi-Sig Workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/resources/advanced/multi-sig/other-scenarios/">Additional Examples</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/resources/tutorials/advanced/return-values-tutorial/">Runtime Return Values</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/resources/advanced/list-auth-keys-tutorial/">Authorization Keys</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/resources/tutorials/advanced/transfer-token-to-contract/">Token Transfers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/resources/tutorials/advanced/storage-workflow/">Storage Workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/resources/tutorials/advanced/cross-contract/">Cross-Contract Communication</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-redux/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs-redux/resources/tutorials/advanced/"><span itemprop="name">Advanced Tutorials</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Multi-Sig Management</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Multi-Sig Workflow</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.5.6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Multi-Signature Workflow</h1></header>
<p>The purpose of this tutorial is to provide an example of how to integrate key management on Casper accounts. This guide assumes previous completion of the <a href="/docs-redux/resources/tutorials/advanced/two-party-multi-sig/">Two-Party Multi-Signature Deploys</a> tutorial, among other prerequisites. You will also need the Casper CLI client to use the <code>make-deploy</code>, <code>sign-deploy</code>, and <code>send-deploy</code> Casper CLI client commands.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Understanding the multi-sig feature and trying it out on Testnet before using it on Mainnet is essential. Incorrect account configurations could render accounts unusable, and you could lose access to all the corresponding CSPR tokens.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>The following prerequisites are required for this workflow:</p>
<ol>
<li>Set up all the <a href="/docs-redux/developers/prerequisites/">development environment prerequisites</a>, including a <a href="/docs-redux/developers/prerequisites/#setting-up-an-account">funded account</a> and the <a href="/docs-redux/developers/prerequisites/#install-casper-client">Casper CLI client</a></li>
<li>Complete the <a href="/docs-redux/resources/tutorials/advanced/two-party-multi-sig/">Two-Party Multi-Signature Deploys</a> workflow and set up the source account for multi-signature deploys</li>
<li>Understand the Casper <a href="/docs-redux/concepts/design/casper-design/#accounts-head">account-based model</a> before proceeding</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="session-code-required-for-key-management">Session Code Required for Key Management<a href="#session-code-required-for-key-management" class="hash-link" aria-label="Direct link to Session Code Required for Key Management" title="Direct link to Session Code Required for Key Management">​</a></h2>
<p>To manage an account&#x27;s associated keys and thresholds, you must run session code that executes within the account&#x27;s context. Note that the session code provided in this workflow is not a general-purpose program and needs to be modified for each use case.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Do not run these examples on Mainnet. Update each command for your environment.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tutorial-workflow">Tutorial Workflow<a href="#tutorial-workflow" class="hash-link" aria-label="Direct link to Tutorial Workflow" title="Direct link to Tutorial Workflow">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-clone-the-example-wasm-for-this-workflow">Step 1: Clone the example Wasm for this workflow<a href="#step-1-clone-the-example-wasm-for-this-workflow" class="hash-link" aria-label="Direct link to Step 1: Clone the example Wasm for this workflow" title="Direct link to Step 1: Clone the example Wasm for this workflow">​</a></h3>
<p>The <a href="https://github.com/casper-ecosystem/tutorials-example-wasm/tree/dev/multi-sig" target="_blank" rel="noopener noreferrer">multi-sig GitHub repository</a> contains session code that can be used for learning how to configure Casper accounts using associated keys and multi-signature deploys. Clone the repository and navigate to the corresponding folder.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/casper-ecosystem/tutorials-example-wasm/ &amp;&amp; cd multi-sig</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you take a look at the repository structure and open the <code>contracts</code> folder, you will see session code with different functionality:</p>
<ul>
<li><code>add_account.wasm</code> - adds an associated account with a specified weight</li>
<li><code>update_associated_keys.wasm</code> - updates a key’s weight</li>
<li><code>update_thresholds.wasm</code> - updates the account&#x27;s action thresholds for deployment and account management</li>
<li><code>remove_account.wasm</code> - removes an associated account from the primary account</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-build-the-sample-wasm-provided">Step 2: Build the sample Wasm provided<a href="#step-2-build-the-sample-wasm-provided" class="hash-link" aria-label="Direct link to Step 2: Build the sample Wasm provided" title="Direct link to Step 2: Build the sample Wasm provided">​</a></h3>
<p>Prepare your environment, build and test the session code provided with the following commands:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rustup update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make prepare</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>rustup update</code> - checks and updates your Rust installation</li>
<li><code>make prepare</code> - sets the Wasm target</li>
<li><code>make test</code> - builds and verifies the session code</li>
</ul>
<p>Note that in the test folder there is a <code>contract.wasm</code> that is needed for the tests to pass. If you run <code>make clean</code> that file will be deleted.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-increase-the-primary-keys-weight-to-set-thresholds">Step 3: Increase the primary key&#x27;s weight to set thresholds<a href="#step-3-increase-the-primary-keys-weight-to-set-thresholds" class="hash-link" aria-label="Direct link to Step 3: Increase the primary key&#x27;s weight to set thresholds" title="Direct link to Step 3: Increase the primary key&#x27;s weight to set thresholds">​</a></h3>
<p>This workflow starts by increasing the weight of the primary key from 1 to 3. To make account updates, a key&#x27;s weight must equal or exceed the <code>key_management</code> threshold. In a later step, you will add the associated accounts that will participate in signing deploys.</p>
<p>Retrieve the account hash of the primary key you are working with using a block explorer or the Casper CLI client.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client account-address --public-key &lt;INSERT_PUBLIC_KEY_HEX&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Update the weight of the primary key to 3 by calling the <code>update_associated_keys.wasm</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client put-deploy --node-address https://rpc.testnet.casperlabs.io/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name &quot;casper-test&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount 500000000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key $PATH/secret_key.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-path target/wasm32-unknown-unknown/release/update_associated_keys.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;associated_key:key=&#x27;account-hash-&lt;ACCOUNT_HASH&gt;&#x27;&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;new_weight:u8=&#x27;3&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Verify that the deploy ran successfully.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-deploy --node-address https://rpc.testnet.casperlabs.io/ &lt;DEPLOY_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retrieve the latest state root hash and check the primary account details.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-state-root-hash --node-address https://rpc.testnet.casperlabs.io/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">casper-client query-global-state \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address https://rpc.testnet.casperlabs.io/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--state-root-hash &lt;STATE_ROOT_HASH&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--key account-hash-&lt;PRIMARY_ACCOUNT_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The primary key in this account should now have weight 3.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Account details</summary><div><div class="collapsibleContent_i85q">
<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Account&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;account_hash&quot;: &quot;account-hash-1ed5a1c39bea93c105f2d22c965a84b205b36734a377d05dbb103b6bfaa595a7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;action_thresholds&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;deployment&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;key_management&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;associated_keys&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;account_hash&quot;: &quot;account-hash-1ed5a1c39bea93c105f2d22c965a84b205b36734a377d05dbb103b6bfaa595a7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;main_purse&quot;: &quot;uref-8294864177c2c1ec887a11dae095e487b5256ce6bd2a1f2740d0e4f28bd3251c-007&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;named_keys&quot;: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</div></div></details>
<p>The table below summarizes the updates.</p>

























<table><thead><tr><th>Threshold / Key</th><th>Previous weight</th><th>Current weight</th></tr></thead><tbody><tr><td><code>deployment</code></td><td>1</td><td>1</td></tr><tr><td><code>key_management</code></td><td>1</td><td>1</td></tr><tr><td>Primary key (<code>1ed5...</code>)</td><td>1</td><td>3</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-update-the-accounts-action-thresholds">Step 4: Update the account&#x27;s action thresholds<a href="#step-4-update-the-accounts-action-thresholds" class="hash-link" aria-label="Direct link to Step 4: Update the account&#x27;s action thresholds" title="Direct link to Step 4: Update the account&#x27;s action thresholds">​</a></h3>
<p>Set up a multi-signature scheme for the account by updating the <code>deployment</code> and <code>key_management</code> thresholds. The <code>update_thresholds.wasm</code> will take two arguments and set the <code>deployment</code> threshold to 2 and the <code>key_management</code> threshold to 3.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client put-deploy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address https://rpc.testnet.casperlabs.io \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name casper-test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount 500000000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key $PATH/secret_key.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-path target/wasm32-unknown-unknown/release/update_thresholds.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;deployment_threshold:u8=&#x27;2&#x27;&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;key_management_threshold:u8=&#x27;3&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Verify that the deploy ran successfully.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-deploy --node-address https://rpc.testnet.casperlabs.io/ &lt;DEPLOY_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retrieve the latest state root hash and check the primary account details.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-state-root-hash --node-address https://rpc.testnet.casperlabs.io/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">casper-client query-global-state \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address https://rpc.testnet.casperlabs.io/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--state-root-hash &lt;STATE_ROOT_HASH&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--key account-hash-&lt;PRIMARY_ACCOUNT_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The account&#x27;s action thresholds should look like this:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;action_thresholds&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;deployment&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;key_management&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This account configuration requires a cumulative weight of 3 to manage keys and a cumulative weight of 2 to send deploys. For example, if two associated keys have weight 1, they must both sign and send the deploy as part of this account context. The cumulative weight of these two keys would not meet the threshold for key management.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Account details</summary><div><div class="collapsibleContent_i85q">
<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Account&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;account_hash&quot;: &quot;account-hash-1ed5a1c39bea93c105f2d22c965a84b205b36734a377d05dbb103b6bfaa595a7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;action_thresholds&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;deployment&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;key_management&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;associated_keys&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;account_hash&quot;: &quot;account-hash-1ed5a1c39bea93c105f2d22c965a84b205b36734a377d05dbb103b6bfaa595a7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;main_purse&quot;: &quot;uref-8294864177c2c1ec887a11dae095e487b5256ce6bd2a1f2740d0e4f28bd3251c-007&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;named_keys&quot;: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</div></div></details>
<p>The table below summarizes the updates.</p>

























<table><thead><tr><th>Threshold / Key</th><th>Previous weight</th><th>Current weight</th></tr></thead><tbody><tr><td><code>deployment</code></td><td>1</td><td>2</td></tr><tr><td><code>key_management</code></td><td>1</td><td>3</td></tr><tr><td>Primary key (<code>1ed5...</code>)</td><td>1</td><td>3</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-add-associated-keys-to-the-primary-account">Step 5: Add associated keys to the primary account<a href="#step-5-add-associated-keys-to-the-primary-account" class="hash-link" aria-label="Direct link to Step 5: Add associated keys to the primary account" title="Direct link to Step 5: Add associated keys to the primary account">​</a></h3>
<p>To add an associated key to the primary account, use the <code>add_account.wasm</code> provided. This example adds two keys to the primary account (<code>account-hash-d89c*</code>): <code>user_1</code> with <code>account-hash-e2d0*</code>, and <code>user_2</code> with <code>account-hash-04a9*</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client put-deploy --node-address https://rpc.testnet.casperlabs.io/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name &quot;casper-test&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount 500000000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key $PATH/secret_key.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-path target/wasm32-unknown-unknown/release/add_account.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;new_key:key=&#x27;account-hash-e2d00525cac31ae2756fb155f289d276c6945b6914923fe275de0cb127bffee7&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;weight:u8=&#x27;1&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Verify that the deploy ran successfully.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-deploy --node-address https://rpc.testnet.casperlabs.io/ &lt;DEPLOY_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client put-deploy --node-address https://rpc.testnet.casperlabs.io/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name &quot;casper-test&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount 500000000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key $PATH/secret_key.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-path target/wasm32-unknown-unknown/release/add_account.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;new_key:key=&#x27;account-hash-04a9691a9f8f05a0f08bd686f188b27c7dbcd644b415759fd3ca043d916ea02f&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;weight:u8=&#x27;1&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Verify that the deploy ran successfully.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-deploy --node-address https://rpc.testnet.casperlabs.io/ &lt;DEPLOY_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retrieve the latest state root hash and check the primary account details.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-state-root-hash --node-address https://rpc.testnet.casperlabs.io/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">casper-client query-global-state \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address https://rpc.testnet.casperlabs.io/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--state-root-hash &lt;STATE_ROOT_HASH&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--key account-hash-&lt;PRIMARY_ACCOUNT_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now, the account should have one primary key with weight 3, and two associated accounts, each with weight 1.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Account details</summary><div><div class="collapsibleContent_i85q">
<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Account&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;account_hash&quot;: &quot;account-hash-1ed5a1c39bea93c105f2d22c965a84b205b36734a377d05dbb103b6bfaa595a7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;action_thresholds&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;deployment&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;key_management&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;associated_keys&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;account_hash&quot;: &quot;account-hash-04a9691a9f8f05a0f08bd686f188b27c7dbcd644b415759fd3ca043d916ea02f&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;account_hash&quot;: &quot;account-hash-1ed5a1c39bea93c105f2d22c965a84b205b36734a377d05dbb103b6bfaa595a7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;account_hash&quot;: &quot;account-hash-e2d00525cac31ae2756fb155f289d276c6945b6914923fe275de0cb127bffee7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;main_purse&quot;: &quot;uref-8294864177c2c1ec887a11dae095e487b5256ce6bd2a1f2740d0e4f28bd3251c-007&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;named_keys&quot;: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</div></div></details>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><ol>
<li>All associated keys should be kept incredibly secure to ensure the security and integrity of the account.</li>
<li>After all associated keys and action thresholds have been set to the desired multi-signature scheme, the weight of the original primary key can be increased or lowered, depending on your use case. Be careful with this! If you lower the primary key&#x27;s weight below the key management threshold, the account will require multiple signatures for key management. The account will be unusable if you do not have enough associated keys set up.</li>
</ol></div></div>
<p>The table below summarizes the updates.</p>



































<table><thead><tr><th>Threshold / Key</th><th>Previous weight</th><th>Current weight</th></tr></thead><tbody><tr><td><code>deployment</code></td><td>1</td><td>2</td></tr><tr><td><code>key_management</code></td><td>1</td><td>3</td></tr><tr><td>Primary key (<code>1ed5...</code>)</td><td>1</td><td>3</td></tr><tr><td>Associated key (<code>04a9...</code>)</td><td>N/A</td><td>1</td></tr><tr><td>Associated key (<code>e2d0...</code>)</td><td>N/A</td><td>1</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-6-send-a-deploy-from-the-primary-account">Step 6: Send a deploy from the primary account<a href="#step-6-send-a-deploy-from-the-primary-account" class="hash-link" aria-label="Direct link to Step 6: Send a deploy from the primary account" title="Direct link to Step 6: Send a deploy from the primary account">​</a></h3>
<p>This step sends a deploy containing Wasm (<code>contract.wasm</code>), which adds a named key to the account. The source code for the Wasm comes from the <a href="https://github.com/casper-ecosystem/hello-world" target="_blank" rel="noopener noreferrer">hello-world</a> repository. The deploy should succeed as the primary account has a weight of 3, which is greater than the deployment threshold.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client put-deploy --chain-name casper-test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount 3000000000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-path tests/wasm/contract.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key $PATH/secret_key.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;my-key-name:string=&#x27;primary_account_key&#x27;&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;message:string=&#x27;Hello, World&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Verify that the deploy ran successfully.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-deploy --node-address https://rpc.testnet.casperlabs.io/ &lt;DEPLOY_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retrieve the latest state root hash and check the primary account details.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-state-root-hash --node-address https://rpc.testnet.casperlabs.io/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">casper-client query-global-state \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address https://rpc.testnet.casperlabs.io/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--state-root-hash &lt;STATE_ROOT_HASH&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--key account-hash-&lt;PRIMARY_ACCOUNT_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>hello_world.wasm</code> should have run and added a named key to the account.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;named_keys&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;key&quot;: &quot;uref-9b9ecaa9e5e235fc6955d4d528cb1b5b38f2d800f6cbbc55351131a3701b5a81-007&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;my-key-name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-7-send-a-multi-signature-deploy-from-an-associated-key">Step 7: Send a multi-signature deploy from an associated key<a href="#step-7-send-a-multi-signature-deploy-from-an-associated-key" class="hash-link" aria-label="Direct link to Step 7: Send a multi-signature deploy from an associated key" title="Direct link to Step 7: Send a multi-signature deploy from an associated key">​</a></h3>
<p>Given the multi-signature scheme set up in this example, two associated keys need to sign to send a deploy from one of the associated keys. This example uses the following commands to sign a deploy with multiple keys and send it to the network:</p>
<ul>
<li><code>make-deploy</code> - creates and signs a deploy, saving the output to a file</li>
<li><code>sign-deploy</code> - adds additional signatures for a multi-signature deploy</li>
<li><code>send-deploy</code> - sends the deploy to the network</li>
</ul>
<p>Similar to step 6, this example uses Wasm (<code>contract.wasm</code>), which adds a named key to the account. The deploy originates from the primary account, specified with the <code>--session-account</code> argument. The deploy needs two signatures to meet the <code>deployment</code> weight equal to 2. Once both associated keys sign the deploy, either can send it to the network.</p>
<p>When using the <code>--session-account</code> argument, specify the hex-encoded public key of the primary account context under which the session code will be executed.</p>
<p>One associated key creates and signs the deploy with the <code>make-deploy</code> command, indicating the account context under which the session code will be executed.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client make-deploy --chain-name casper-test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount 300000000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-path tests/wasm/contract.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key $PATH/user_1_secret_key.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;my-key-name:string=&#x27;user_1_key&#x27;&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;message:string=&#x27;Hello, World&#x27;&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-account 01360af61b50cdcb7b92cffe2c99315d413d34ef77fadee0c105cc4f1d4120f986 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--output hello_world_one_signature</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The second associated key signs the deploy with <code>sign-deploy</code> to meet the deployment threshold for the account.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client sign-deploy -i hello_world_one_signature -k $PATH/user_2_secret_key.pem  -o hello_world_two_signatures</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The deploy can be sent to the network using the <code>send-deploy</code> command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client send-deploy --node-address https://rpc.testnet.casperlabs.io -i hello_world_two_signatures</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Verify that the deploy ran successfully.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-deploy --node-address https://rpc.testnet.casperlabs.io/ &lt;DEPLOY_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retrieve the latest state root hash and check the primary account details.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-state-root-hash --node-address https://rpc.testnet.casperlabs.io/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">casper-client query-global-state \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address https://rpc.testnet.casperlabs.io/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--state-root-hash &lt;STATE_ROOT_HASH&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--key account-hash-&lt;PRIMARY_ACCOUNT_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>hello_world.wasm</code> should have run and added a named key to the account.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="removing-a-compromised-key">Removing a Compromised Key<a href="#removing-a-compromised-key" class="hash-link" aria-label="Direct link to Removing a Compromised Key" title="Direct link to Removing a Compromised Key">​</a></h2>
<p>This example shows how to remove a compromised key from an account. The example adds an associated key only to remove it using the <code>remove_account.wasm</code> session code.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Remove keys with caution! Do not run this example on Mainnet.</p><p>Before removing a key, ensure the remaining associated keys can combine their weight to meet the threshold for key management. Otherwise, the account could become unusable. Changing key weights or adding new associated keys would only be possible by meeting the key management threshold. Proceed with caution.</p></div></div>
<p>Given the current setup, the primary account will add an associated key, and then remove it. In other use cases, associated keys may need to combine their signatures to send a multi-sig deploy that removes a key.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client put-deploy --node-address https://rpc.testnet.casperlabs.io/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name &quot;casper-test&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount 500000000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key $PATH/secret_key.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-path target/wasm32-unknown-unknown/release/add_account.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;new_key:key=&#x27;account-hash-1fed34baa6807a7868bb18f91b161d99ebf21763810fe4c92e39775d10bbf1f8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;weight:u8=&#x27;1&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Verify that the deploy ran successfully.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-deploy --node-address https://rpc.testnet.casperlabs.io/ &lt;DEPLOY_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retrieve the latest state root hash and check the primary account details.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-state-root-hash --node-address https://rpc.testnet.casperlabs.io/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">casper-client query-global-state \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address https://rpc.testnet.casperlabs.io/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--state-root-hash &lt;STATE_ROOT_HASH&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--key account-hash-&lt;PRIMARY_ACCOUNT_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Account details</summary><div><div class="collapsibleContent_i85q">
<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Account&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;account_hash&quot;: &quot;account-hash-1ed5a1c39bea93c105f2d22c965a84b205b36734a377d05dbb103b6bfaa595a7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;action_thresholds&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;deployment&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;key_management&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;associated_keys&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;account_hash&quot;: &quot;account-hash-04a9691a9f8f05a0f08bd686f188b27c7dbcd644b415759fd3ca043d916ea02f&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;account_hash&quot;: &quot;account-hash-1fed34baa6807a7868bb18f91b161d99ebf21763810fe4c92e39775d10bbf1f8&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;account_hash&quot;: &quot;account-hash-1ed5a1c39bea93c105f2d22c965a84b205b36734a377d05dbb103b6bfaa595a7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;account_hash&quot;: &quot;account-hash-e2d00525cac31ae2756fb155f289d276c6945b6914923fe275de0cb127bffee7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;main_purse&quot;: &quot;uref-8294864177c2c1ec887a11dae095e487b5256ce6bd2a1f2740d0e4f28bd3251c-007&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;named_keys&quot;: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</div></div></details>
<p>The table below summarizes the updates after calling the <code>add_account.wasm</code>.</p>








































<table><thead><tr><th>Threshold / Key</th><th>Previous weight</th><th>Current weight</th></tr></thead><tbody><tr><td><code>deployment</code></td><td>1</td><td>2</td></tr><tr><td><code>key_management</code></td><td>1</td><td>3</td></tr><tr><td>Primary key (<code>1ed5...</code>)</td><td>1</td><td>3</td></tr><tr><td>Associated key (<code>04a9...</code>)</td><td>1</td><td>1</td></tr><tr><td>Associated key (<code>e2d0...</code>)</td><td>1</td><td>1</td></tr><tr><td>Associated key (<code>1fed...</code>)</td><td>N/A</td><td>1</td></tr></tbody></table>
<p>The <code>remove_account.wasm</code> will remove the newly added account to demonstrate the possibility of removing associated keys that may have been compromised.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client put-deploy --node-address https://rpc.testnet.casperlabs.io/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name &quot;casper-test&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount 500000000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key $PATH/secret_key.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-path target/wasm32-unknown-unknown/release/remove_account.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg &quot;remove_key:key=&#x27;account-hash-1fed34baa6807a7868bb18f91b161d99ebf21763810fe4c92e39775d10bbf1f8&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Verify that the deploy ran successfully.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-deploy --node-address https://rpc.testnet.casperlabs.io/ &lt;DEPLOY_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Retrieve the latest state root hash and check the primary account details.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-state-root-hash --node-address https://rpc.testnet.casperlabs.io/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">casper-client query-global-state \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address https://rpc.testnet.casperlabs.io/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--state-root-hash &lt;STATE_ROOT_HASH&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--key account-hash-&lt;PRIMARY_ACCOUNT_HASH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The resulting account should not contain the associated key that was just removed.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Account details</summary><div><div class="collapsibleContent_i85q">
<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Account&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;account_hash&quot;: &quot;account-hash-1ed5a1c39bea93c105f2d22c965a84b205b36734a377d05dbb103b6bfaa595a7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;action_thresholds&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;deployment&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;key_management&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;associated_keys&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;account_hash&quot;: &quot;account-hash-04a9691a9f8f05a0f08bd686f188b27c7dbcd644b415759fd3ca043d916ea02f&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;account_hash&quot;: &quot;account-hash-1ed5a1c39bea93c105f2d22c965a84b205b36734a377d05dbb103b6bfaa595a7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;account_hash&quot;: &quot;account-hash-e2d00525cac31ae2756fb155f289d276c6945b6914923fe275de0cb127bffee7&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;weight&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;main_purse&quot;: &quot;uref-8294864177c2c1ec887a11dae095e487b5256ce6bd2a1f2740d0e4f28bd3251c-007&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;named_keys&quot;: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</div></div></details>
<p>The table below summarizes the updates after calling the <code>remove_account.wasm</code>.</p>








































<table><thead><tr><th>Threshold / Key</th><th>Previous weight</th><th>Current weight</th></tr></thead><tbody><tr><td><code>deployment</code></td><td>1</td><td>2</td></tr><tr><td><code>key_management</code></td><td>1</td><td>3</td></tr><tr><td>Primary key (<code>1ed5...</code>)</td><td>1</td><td>3</td></tr><tr><td>Associated key (<code>04a9...</code>)</td><td>1</td><td>1</td></tr><tr><td>Associated key (<code>e2d0...</code>)</td><td>1</td><td>1</td></tr><tr><td>Associated key (<code>1fed...</code>)</td><td>1</td><td>N/A (Removed)</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps">​</a></h2>
<p>The next section contains <a href="/docs-redux/resources/advanced/multi-sig/other-scenarios/">additional examples</a> where Casper&#x27;s multi-signature feature would be helpful.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-redux/resources/advanced/multi-sig/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs-redux/resources/advanced/multi-sig/other-scenarios/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Additional Examples</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#session-code-required-for-key-management" class="table-of-contents__link toc-highlight">Session Code Required for Key Management</a></li><li><a href="#tutorial-workflow" class="table-of-contents__link toc-highlight">Tutorial Workflow</a><ul><li><a href="#step-1-clone-the-example-wasm-for-this-workflow" class="table-of-contents__link toc-highlight">Step 1: Clone the example Wasm for this workflow</a></li><li><a href="#step-2-build-the-sample-wasm-provided" class="table-of-contents__link toc-highlight">Step 2: Build the sample Wasm provided</a></li><li><a href="#step-3-increase-the-primary-keys-weight-to-set-thresholds" class="table-of-contents__link toc-highlight">Step 3: Increase the primary key&#39;s weight to set thresholds</a></li><li><a href="#step-4-update-the-accounts-action-thresholds" class="table-of-contents__link toc-highlight">Step 4: Update the account&#39;s action thresholds</a></li><li><a href="#step-5-add-associated-keys-to-the-primary-account" class="table-of-contents__link toc-highlight">Step 5: Add associated keys to the primary account</a></li><li><a href="#step-6-send-a-deploy-from-the-primary-account" class="table-of-contents__link toc-highlight">Step 6: Send a deploy from the primary account</a></li><li><a href="#step-7-send-a-multi-signature-deploy-from-an-associated-key" class="table-of-contents__link toc-highlight">Step 7: Send a multi-signature deploy from an associated key</a></li></ul></li><li><a href="#removing-a-compromised-key" class="table-of-contents__link toc-highlight">Removing a Compromised Key</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://casper.network/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/docs-redux/icon/Casper_Wordmark_Horizontal_Red_RGB.png" alt="Casper Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="120" height="30"><img src="/docs-redux/icon/Casper_Wordmark_Horizontal_White_RGB.png" alt="Casper Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="120" height="30"></a></div><div class="footer__copyright">Copyright © 2024 Casper Association. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>