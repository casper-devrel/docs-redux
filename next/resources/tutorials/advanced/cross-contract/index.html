<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-resources/advanced/cross-contract" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Cross-Contract Communication | Casper Docs - Redux</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://casper-devrel.github.io/docs-redux/next/resources/tutorials/advanced/cross-contract/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cross-Contract Communication | Casper Docs - Redux"><meta data-rh="true" name="description" content="This tutorial assumes that you have worked through the following examples. If you have not already done so, then we recommend that you do so now:"><meta data-rh="true" property="og:description" content="This tutorial assumes that you have worked through the following examples. If you have not already done so, then we recommend that you do so now:"><link data-rh="true" rel="icon" href="/docs-redux/icon/favicon.ico"><link data-rh="true" rel="canonical" href="https://casper-devrel.github.io/docs-redux/next/resources/tutorials/advanced/cross-contract/"><link data-rh="true" rel="alternate" href="https://casper-devrel.github.io/docs-redux/next/resources/tutorials/advanced/cross-contract/" hreflang="en"><link data-rh="true" rel="alternate" href="https://casper-devrel.github.io/docs-redux/next/resources/tutorials/advanced/cross-contract/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://A1AAQ71KTN-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/docs-redux/blog/rss.xml" title="Casper Docs - Redux RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs-redux/blog/atom.xml" title="Casper Docs - Redux Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Casper Docs - Redux" href="/docs-redux/opensearch.xml"><link rel="stylesheet" href="/docs-redux/assets/css/styles.73c81181.css">
<script src="/docs-redux/assets/js/runtime~main.629a7ec4.js" defer="defer"></script>
<script src="/docs-redux/assets/js/main.f868636b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#f9f9f9;color:#000000" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">This is an Alpha version of the Casper Docs Redux. 
 Any suggestions please email to <a href="mailto:devrel@casper.network">devrel@casper.network</a>, or 
 submit an issue on <a href="https://github.com/casper-devrel/docs-redux/issues/new?assignees=&labels=docs-v2-feedback&projects=&template=feedback.yml&title=Docs+Feedback">Github<a></a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-redux/"><div class="navbar__logo"><img src="/docs-redux/icon/Casper_Wordmark_Red_RGB.png" alt="Casper Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-redux/icon/Casper_Wordmark_Red_RGB.png" alt="Casper Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs-redux/concepts/">Concepts</a><a class="navbar__item navbar__link" href="/docs-redux/developers/">Developers</a><a class="navbar__item navbar__link" href="/docs-redux/operators/">Operators</a><a class="navbar__item navbar__link" href="/docs-redux/users/">Users</a><a class="navbar__item navbar__link" href="/docs-redux/resources/">Resources</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/casper-devrel/docs-redux/issues/new?assignees=&amp;labels=docs-v2-feedback&amp;projects=&amp;template=feedback.yml&amp;title=Docs+Feedback" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Feedback</a><a class="navbar__item navbar__link" href="/docs-redux/blog/tags/condor/">Condor</a><a class="navbar__item navbar__link" href="/docs-redux/blog/">Blog</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs-redux/next/resources/tutorials/advanced/cross-contract/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs-redux/next/resources/tutorials/advanced/cross-contract/">Next</a></li><li><a class="dropdown__link" href="/docs-redux/resources/tutorials/advanced/cross-contract/">1.5.6</a></li></ul></div><a href="https://support.casperlabs.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.com/invite/casperblockchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/casper-devrel/docs-redux" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/next/resources/">Resources Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/next/resources/build-on-casper/introduction/">Build on Casper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/next/resources/moving-to-casper/">Move to Casper</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs-redux/next/resources/tokens/">Casper Token Standards</a><button aria-label="Expand sidebar category &#x27;Casper Token Standards&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/next/resources/build-on-casper/casper-open-source-software/">Open-Source Software</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/next/resources/quick-start/">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs-redux/next/resources/tutorials/beginner/">Beginner Tutorials</a><button aria-label="Expand sidebar category &#x27;Beginner Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs-redux/next/resources/tutorials/advanced/">Advanced Tutorials</a><button aria-label="Collapse sidebar category &#x27;Advanced Tutorials&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/resources/tutorials/advanced/two-party-multi-sig/">Two-Party Multi-Sig</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs-redux/next/resources/advanced/multi-sig/">Multi-Sig Management</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/resources/tutorials/advanced/return-values-tutorial/">Runtime Return Values</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/resources/advanced/list-auth-keys-tutorial/">Authorization Keys</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/resources/tutorials/advanced/transfer-token-to-contract/">Token Transfers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/resources/tutorials/advanced/storage-workflow/">Storage Workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-redux/next/resources/tutorials/advanced/cross-contract/">Cross-Contract Communication</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Casper Docs - Redux<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs-redux/resources/tutorials/advanced/cross-contract/">latest version</a></b> (<!-- -->1.5.6<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-redux/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs-redux/next/resources/tutorials/advanced/"><span itemprop="name">Advanced Tutorials</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Cross-Contract Communication</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><p>import useBaseUrl from &#x27;@docusaurus/useBaseUrl&#x27;;</p>
<header><h1>Cross-Contract Communication</h1></header>
<p>This tutorial assumes that you have worked through the following examples. If you have not already done so, then we recommend that you do so now:</p>
<ul>
<li><a href="/docs-redux/next/developers/prerequisites/">Developer Prerequisites</a></li>
<li><a href="/docs-redux/next/developers/writing-onchain-code/getting-started/">Getting Started with Rust</a></li>
<li><a href="/docs-redux/next/developers/writing-onchain-code/simple-contract/">Writing a Basic Smart Contract in Rust</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="outline">Tutorial Outline<a href="#outline" class="hash-link" aria-label="Direct link to Tutorial Outline" title="Direct link to Tutorial Outline">​</a></h2>
<p>This tutorial covers some variations of cross-contract communication. Most complex scenarios use cross-contract communication, so it is crucial to understand how this works. It is best explained using the uniswap v2 protocol.</p>
<p>Uniswap v2 protocol consists of multiple smart contracts which govern a unified blockchain application and each contract serves a different purpose.
The contracts are as follows:</p>
<ul>
<li>Factory</li>
<li>Pair</li>
<li>Pair (ERC20)</li>
<li>Library</li>
<li>Router01</li>
<li>Router02</li>
</ul>
<p>The Factory contract is generally used to create a token pair. It throws an event that a pair has been created and allows the user to read the pair created. The most important to notice is that the generation of a token pair actually creates a contract of type Pair under a new address hash.
The Pair smart contract is used to perform operations like mint or burn on a created pair of tokens.</p>
<p>Having this in mind we will be building two contracts which reference each other in some shape or form. We will look at how the keys are deployed in the contract&#x27;s context and how we can pass the contract hash into a deployed contract so another contract can be called.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-project">Creating the Project<a href="#create-project" class="hash-link" aria-label="Direct link to Creating the Project" title="Direct link to Creating the Project">​</a></h2>
<p>In the appropriate folder, create the project for the contract using the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cargo casper cross-contract</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will create the following structure under your desired smart contract folder:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cross-contract/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── contract/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── .cargo/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        └── config.toml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        └── main.rs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── Cargo.toml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── tests/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── src/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        └── integration-tests.rs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── Cargo.toml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── .travis.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── Makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── rust-toolchain</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After creating the project directory structure, use the following commands to go into the project folder and compile the files:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd cross-contract</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make prepare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make build-contract</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will also create a target folder under the contract folder where the .wasm of the contract can be found.
Additionally you can check if the tests can be performed using the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">make test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This should produce the following outcome:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">running 2 tests</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">test tests::should_error_on_missing_runtime_arg ... ok</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">test tests::should_store_hello_world ... ok</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.09s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If this is not the case and you see the following error:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">warning: `tests` (bin &quot;integration-tests&quot; test) generated 2 warnings</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">error: could not compile `tests` due to 3 previous errors; 2 warnings emitted</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make: *** [test] Error 101</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then it is useful to check if the dependencies in <code>Cargo.toml</code> are still up to date.</p><p>&lt;img class=&quot;align-center&quot; src={useBaseUrl(&quot;/image/tutorials/cross-contract/CargoToml.png&quot;)} width=&quot;600&quot; alt=&quot;CargoToml&quot; /&gt;</p><p>If you see the red cross, it means the version is not up to date and has to be updated.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="changing-contract">Changing the Standard Contract<a href="#changing-contract" class="hash-link" aria-label="Direct link to Changing the Standard Contract" title="Direct link to Changing the Standard Contract">​</a></h2>
<p>The standard Casper contract from <code>cargo-casper</code> contains some methods that we will reuse. However, we will be getting rid of most auto-generated code.</p>
<p>We will be changing the <code>main.rs</code> file. Your code should look exactly as below:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#![no_std]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#![no_main]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#[cfg(not(target_arch = &quot;wasm32&quot;))]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">compile_error!(&quot;target arch should be wasm32: compile with &#x27;--target wasm32-unknown-unknown&#x27;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// We need to explicitly import the std alloc crate and `alloc::string::String` as we are in a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// `no_std` environment.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">extern crate alloc;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// The elementary types </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use alloc::string::String;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use alloc::vec::Vec;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use alloc::collections::BTreeMap;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use crate::alloc::string::ToString;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Casper crates</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use casper_types::{Key, CLType, Parameter, EntryPoint, EntryPoints, EntryPointType, EntryPointAccess};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use casper_contract::{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    contract_api::{runtime, storage},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    unwrap_or_revert::UnwrapOrRevert,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#[no_mangle]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pub extern &quot;C&quot; fn call() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will serve as a base for introducing the elements needed for cross-contract communication.</p>
<p>In a contract, you should first define the <code>call</code> entry point. It should be understood as a <code>constructor</code> for the contract. Everything included in the <code>call</code> entry point will be visible as metadata on a Casper network, in the contract&#x27;s context.
You should already be familiar with the <code>call</code> entry point from the <a href="/docs-redux/next/developers/writing-onchain-code/simple-contract/">Writing a Basic Smart Contract in Rust</a> document. If this is not the case, be sure to familiarize yourself with it now.</p>
<p>The contract code, with changes to the <code>call</code> entry point, should look as shown below:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#![no_std]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#![no_main]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#[cfg(not(target_arch = &quot;wasm32&quot;))]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">compile_error!(&quot;target arch should be wasm32: compile with &#x27;--target wasm32-unknown-unknown&#x27;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// We need to explicitly import the std alloc crate and `alloc::string::String` as we are in a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// `no_std` environment.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">extern crate alloc;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// The elementary types </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use alloc::string::String;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use alloc::vec::Vec;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use alloc::collections::BTreeMap;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use crate::alloc::string::ToString;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Casper crates</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use casper_types::{Key, CLType, Parameter, EntryPoint, EntryPoints, EntryPointType, EntryPointAccess};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use casper_contract::{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    contract_api::{runtime, storage},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    unwrap_or_revert::UnwrapOrRevert,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#[no_mangle]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pub extern &quot;C&quot; fn call() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Get the value of the runtime argument named &quot;message&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let value: String = runtime::get_named_arg(&quot;message&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // The value will be written under a URef</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let value_ref = storage::new_uref(value);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Creating the new set of named keys</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // The keys are a Map of String/casper_types::Key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let mut named_keys: BTreeMap&lt;String, Key&gt; = BTreeMap::new();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Insert the new value into the named keys</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    named_keys.insert(String::from(&quot;message&quot;),value_ref.into()); // use into to wrap the Uref into a casper_types::Key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Create a new vector </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let mut params = Vec::new();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vec.push(Parameter::new(&quot;message&quot;, CLType::String));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Create an Entry Point Object</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let mut entry_points = EntryPoints::new();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Describing the metadata for the entry point</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    entry_points.add_entry_point(EntryPoint::new(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;update_msg&quot;,                   // the name of the entry point</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        vec,                            // the arguments which can be passed into the entry point</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        CLType::Unit,                   // return type of the entry point</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        EntryPointAccess::Public,       // access permissions - public can be accessed always</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        EntryPointType::Contract        // in most cases it will be contract</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // The contract is stored in the global state</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let (stored_contract_hash, _contract_version) = storage::new_contract(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        entry_points,                                       // entry points</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Some(named_keys),                                   // named keys </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Some(&quot;Hello_world_package_name&quot;.to_string()),       // package name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Some(&quot;Hello_world_access_uref&quot;.to_string())         // access uref</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // To access the contract hash from the accounts named keys</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    runtime::put_key(&quot;hello_world_contract&quot;, stored_contract_hash.into());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p><code>runtime</code> and <code>storage</code> appear frequently in our code. If these terms are unfamiliar to you, you should familiarize yourself with the <a href="https://docs.rs/casper-contract/latest/casper_contract/contract_api/index.html" target="_blank" rel="noopener noreferrer">Contract API Modules</a>.</p></div></div>
<p>The metadata for each of the contract&#x27;s entry points is defined in the <code>call</code> entry point. When installing the contract, the system will look for the name of the entry point as specified by the metadata for that entry point. Therefore, each of the entry points defined in the code must share the same name as the <code>String</code> value passed when defining the metadata for the entry point.</p>
<p>The #[no_mangle] flag ensures that the compiler does not modify the name of the entry point. The compiler will not enforce the condition that the name of the entry point is the same value present in its metadata definition, therefore the developer must be careful when defining their entry points.</p>
<p>In our case, we will define the entry point <code>update_msg</code> in the contract code just before <code>call</code>.</p>
<p>Your complete contract should match the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#![no_std]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#![no_main]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#[cfg(not(target_arch = &quot;wasm32&quot;))]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">compile_error!(&quot;target arch should be wasm32: compile with &#x27;--target wasm32-unknown-unknown&#x27;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// We need to explicitly import the std alloc crate and `alloc::string::String` as we are in a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// `no_std` environment.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">extern crate alloc;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// The elementary types </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use alloc::string::String;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use alloc::vec::Vec;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use alloc::collections::BTreeMap;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use crate::alloc::string::ToString;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Casper crates</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use casper_types::{Key, CLType, Parameter, EntryPoint, EntryPoints, EntryPointType, EntryPointAccess};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use casper_contract::{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    contract_api::{runtime, storage},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    unwrap_or_revert::UnwrapOrRevert,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#[no_mangle]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pub extern &quot;C&quot; fn update_msg() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let value: String = runtime::get_named_arg(&quot;message&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Get the uref of the message stored in global state</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let uref = runtime::get_key(&quot;message&quot;).unwrap_or_revert().into_uref().unwrap_or_revert();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Write the message to global state</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    storage::write(uref, String::from(value));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#[no_mangle]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pub extern &quot;C&quot; fn call() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Get the value of a passed parameter with the key &quot;message&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let value: String = runtime::get_named_arg(&quot;message&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // The value will be wraped in a URef</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let value_ref = storage::new_uref(value);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Creating the new set of named keys</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // The keys are a Map of Key/Value </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let mut named_keys: BTreeMap&lt;String, Key&gt; = BTreeMap::new();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Insert the new value into the named keys</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    named_keys.insert(String::from(&quot;message&quot;),value_ref.into()); // use into to wrap the value to the key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Create a new vector </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let mut vec = Vec::new();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vec.push(Parameter::new(&quot;message&quot;, CLType::String));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Create an Entry Point Object</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let mut entry_points = EntryPoints::new();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Define the metadata for the entry point `update_msg`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    entry_points.add_entry_point(EntryPoint::new(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;update_msg&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        vec,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        CLType::Unit,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        EntryPointAccess::Public,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        EntryPointType::Contract</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // The contract is stored in the global state</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let (stored_contract_hash, _contract_version) = storage::new_contract(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        entry_points,                                       // entry points metadata</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Some(named_keys),                                   // named keys </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Some(&quot;Hello_world_package_name&quot;.to_string()),       // package name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Some(&quot;Hello_world_access_uref&quot;.to_string())         // access uref</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // To access from the account - named keys of the account</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    runtime::put_key(&quot;hello_world_contract&quot;, stored_contract_hash.into());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>There is a distinction between storing data in a contract’s <code>NamedKeys</code> and using a dictionary. <a href="/docs-redux/next/concepts/dictionaries/">Dictionaries</a> can be used to store dApp-centric data, but they are not a SQL database and should only be used for data that needs to be stored in global state. Objects referenced in a contract should only be used as links within a bigger application.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-contract">Deploying the Contract<a href="#deploying-contract" class="hash-link" aria-label="Direct link to Deploying the Contract" title="Direct link to Deploying the Contract">​</a></h2>
<p>There are many tools available to send a deploy to a Casper network. The simplest method is to use the Rust CLI with the subcommand <a href="/docs-redux/next/developers/cli/installing-contracts/#installing-contract-code">put_deploy</a>.</p>
<p>Be sure to go through the prerequisites from the <a href="/docs-redux/next/developers/cli/installing-contracts/">Installing Smart Contracts and Querying Global State</a> documentation.</p>
<p>Make sure that after doing this you have:</p>
<ol>
<li>A valid private key for your account.</li>
<li>Funded your account with 2000 CSPR on the Testnet, which you can use for testing your smart contract.</li>
</ol>
<p>Create the <code>keys</code> folder in the main folder of your project and make sure that the private key which you put into the folder is called <code>secret_key.pem</code>.</p>
<p>Compile the contract in the contract directory so you obtain the contracts <code>.wasm</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd cross-contract</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make prepare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make build-contract</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This should produce the following outcome:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd contract &amp;&amp; cargo build --release --target wasm32-unknown-unknown</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Finished release [optimized] target(s) in 0.13s</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wasm-strip contract/target/wasm32-unknown-unknown/release/contract.wasm 2&gt;/dev/null | true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>With this step everything is in place to deploy the contract.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>When working with lengthy command strings, it may help to maintain a .txt file where you can edit the runtime arguments of the commands before sending them to the CLI. This will save you time and frustration when working with multiple contracts and commands.</p></div></div>
<p>Since we are using a default contract structure, the command called from the <code>cross-contract</code> folder should be the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client put-deploy \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --node-address http://136.243.187.84:7777 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --chain-name casper-test \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --secret-key ./keys/secret_key.pem \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --payment-amount 20000000000 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --session-path ./contract/target/wasm32-unknown-unknown/release/contract.wasm \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --session-arg &quot;message:string=&#x27;hello world&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The parameters used in this command need to be adjusted based on your use case. For details, see <a href="/docs-redux/next/developers/prerequisites/#acquire-node-address-from-network-peers">querying a node</a> and <a href="/docs-redux/next/developers/cli/installing-contracts/">installing contracts</a>. The payment amount may also need to be adjusted based on the latest Testnet <a href="/docs-redux/next/concepts/glossary/C/#chainspec">chainspec</a>.</p></div></div>
<p>The output of this command is:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;id&quot;: -9119604526598719721,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;api_version&quot;: &quot;1.4.13&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;deploy_hash&quot;: &quot;af42bc6dbc58f677d138eb968d897f965f1ed118a40980bc16efbcc2a0c71832&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To verify that the contract was successfully deployed, use the <code>get-deploy</code> subcommand, providing as a parameter the <code>deploy_hash</code> received from the <code>put-deploy</code> above.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client get-deploy \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --node-address http://136.243.187.84:7777 af42bc6dbc58f677d138eb968d897f965f1ed118a40980bc16efbcc2a0c71832</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This should return a JSON output containing information such as header data, approvers and payments. You can also receive this information by using the <code>verbose</code> flag with the <code>put-deploy</code> subcommand. Take time to familiarize yourself with the structure of the output.</p>
<p>We can use the supplied deploy hash, <code>af42bc6dbc58f677d138eb968d897f965f1ed118a40980bc16efbcc2a0c71832</code> to find this contract using a block explorer. When viewed through the explorer, the status of the Deploy should be marked as <code>Success</code>.</p>
<p>From your <code>cspr.live</code> account, you will find a tab called <code>NamedKeys</code>. This tab includes a list of all contracts deployed using the private key connected to your account.</p>
<p>By clicking the contract hash, you can see all entry points included in the contract, as well as the <code>NamedKeys</code> under which your contract’s name is stored. You should keep these named keys organized to avoid losing track while creating larger implementations.</p>
<p>An additional tab, <code>Deploys</code>, that is currently empty. If our contract included a cross-contract call that called an entry point from another contract, it would appear here. For now, we can note the hash of the contract, which is <code>hash-b7a06298cc71d4cac05929cc0713dfd5a541c68b71cb500cd04547b5cd0385ea</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cross-contract">Create Another Contract for the Cross-Contract Call<a href="#cross-contract" class="hash-link" aria-label="Direct link to Create Another Contract for the Cross-Contract Call" title="Direct link to Create Another Contract for the Cross-Contract Call">​</a></h2>
<p>This section describes the process of writing an additional contract, which will use an entry point titled <code>call_contract_2</code> to invoke the <code>update_msg</code> entry point on the previous contract.</p>
<p>In this tutorial we will be passing the contract hash, as an argument, into the <code>call</code> entry point and use this to perform the calls to the destination contract.</p>
<p>Prepare the <code>call</code> entry point as described below:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#[no_mangle]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pub extern &quot;C&quot; fn call() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Create the list of required runtime arguments for the given entry point.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let mut vec = Vec::new();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vec.push(Parameter::new(&quot;new_message&quot;, CLType::String));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vec.push(Parameter::new(&quot;hello_world_contract&quot;, CLType::Key));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // In the named keys of the contract, add a key for the count.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let mut named_keys = NamedKeys::new();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Create an Entry Point Object</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let mut entry_points = EntryPoints::new();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Add the entry point metadata definition.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    entry_points.add_entry_point(EntryPoint::new(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       &quot;call_contract_2&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       vec,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       CLType::Unit,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       EntryPointAccess::Public,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       EntryPointType::Contract</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // The contract is stored in the global state</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let (stored_contract_hash, _contract_version) = storage::new_contract(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       entry_points,                                        // entry points</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       Some(named_keys),                                    // named keys </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       Some(&quot;contract2_package_name&quot;.to_string()),          // package name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       Some(&quot;contract2_access_uref&quot;.to_string())            // access uref</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // To access from the account - named keys of the account</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    runtime::put_key(&quot;cross_contract_2&quot;, stored_contract_hash.into());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This would be the easiest implementation of the <code>call</code> entry point. There is only one entry point which accepts the key <code>contract2</code> of type <code>String</code> and the key <code>hello_world_contract</code> of the type <code>Key</code>. There aren&#x27;t any named keys which will be saved in the contract&#x27;s context. The contract is then stored in global state and placed as an entry within the account&#x27;s named keys.</p>
<p>Now that we have defined the metadata for the <code>call_contract_2</code> entry point, we must now define the entry point itself. This entry point will take the second contract hash as an argument and call the entry point <code>update_msg</code>. It will then pass a message to the second contract as a parameter, which will be stored in that contract’s context.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#[no_mangle]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pub extern &quot;C&quot; fn call_contract_2() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Get the contract hash from the named arguments passed to the `call_contract_2` entry point.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let contract_hash: ContractHash = runtime::get_named_arg::&lt;Key&gt;(CONTRACT_HASH)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .into_hash()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .map(|hash| ContractHash::new(hash))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .unwrap();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Get the value of the message from the second parameter  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let new_value: String = runtime::get_named_arg(&quot;new_message&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Call the update_msg entry point on the other contract with the parameter values</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let _: () = runtime::call_contract(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        contract_hash, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;update_msg&quot;, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        runtime_args! {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;message&quot; =&gt; new_value,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Your complete contract implementation should look as follows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#![no_std]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#![no_main]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#[cfg(not(target_arch = &quot;wasm32&quot;))]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">compile_error!(&quot;target arch should be wasm32: compile with &#x27;--target wasm32-unknown-unknown&#x27;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// We need to explicitly import the std alloc crate and `alloc::string::String` as we are in a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// `no_std` environment.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">extern crate alloc;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// The elementary types </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use alloc::string::String;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use alloc::vec::Vec;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use crate::alloc::string::ToString;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use crate::runtime_args::RuntimeArgs;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Casper crates</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use casper_types::{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    api_error::ApiError,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    contracts::NamedKeys, runtime_args, CLType, Key, ContractHash, Parameter, EntryPoint, EntryPoints, EntryPointType, EntryPointAccess};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use casper_contract::{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    unwrap_or_revert::UnwrapOrRevert,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    contract_api::{runtime, storage},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// The contract key in the account named keys</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const CONTRACT_HASH: &amp;str = &quot;hello_world_contract&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#[no_mangle]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pub extern &quot;C&quot; fn call_contract_2() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let contract_hash: ContractHash = runtime::get_named_arg::&lt;Key&gt;(CONTRACT_HASH)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .into_hash()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .map(|hash| ContractHash::new(hash))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .unwrap();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let new_value: String = runtime::get_named_arg(&quot;new_message&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let _: () = runtime::call_contract(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        contract_hash, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;update_msg&quot;, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        runtime_args! {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            // key    =&gt; value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;message&quot; =&gt; new_value,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#[no_mangle]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pub extern &quot;C&quot; fn call() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Create a new vector - this will be the signature of the entrypoint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let mut vec = Vec::new();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vec.push(Parameter::new(&quot;new_message&quot;, CLType::String));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    vec.push(Parameter::new(&quot;hello_world_contract&quot;, CLType::Key));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // In the named keys of the contract, add a key for the count.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let named_keys = NamedKeys::new();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Create an Entry Point Object</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let mut entry_points = EntryPoints::new();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Add the entry point to the entry points object</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    entry_points.add_entry_point(EntryPoint::new(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       &quot;call_contract_2&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       vec,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       CLType::Unit,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       EntryPointAccess::Public,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       EntryPointType::Contract</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // The contract is stored in global state</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let (stored_contract_hash, _contract_version) = storage::new_contract(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       entry_points,                                        // entry points</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       Some(named_keys),                                    // named keys </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       Some(&quot;contract2_package_name&quot;.to_string()),          // package name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       Some(&quot;contract2_access_uref&quot;.to_string())            // access uref</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // To access from the account - named keys of the account</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    runtime::put_key(&quot;cross_contract_2&quot;, stored_contract_hash.into());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After you run <code>make build-contract</code> in your second contract&#x27;s directory, you should obtain the outcome:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd contract &amp;&amp; cargo build --release --target wasm32-unknown-unknown</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   Compiling contract v0.1.0 (/Users/karolmarter/Desktop/Rust_Projects/cross-contract-2/contract)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Finished release [optimized] target(s) in 0.69s</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wasm-strip contract/target/wasm32-unknown-unknown/release/contract.wasm 2&gt;/dev/null | true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Create the <code>keys</code> subfolder and copy the keys from the <code>keys</code> subfolder in the first contract into this subfolder.
The call from the terminal will look as follows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client put-deploy \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --node-address http://136.243.187.84:7777 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --chain-name casper-test \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --secret-key ./keys/secret_key.pem \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --payment-amount 20000000000 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --session-path ./contract/target/wasm32-unknown-unknown/release/contract.wasm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You may have noticed that the contract.wasm is always output to the same filename for each new <code>cargo casper</code> project. You can change this by editing the <code>Makefile</code> in the main directory. You can then observe the result by recompiling your contract with these commands;</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">make prepare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make build-contract</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<p>After the deploy we can check if it was successful and inspect the runtime arguments of the deployed entry points.</p>
<p>The result of invoking the <code>put-deploy</code> subcommand is:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;id&quot;: -7557689417621513622,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;api_version&quot;: &quot;1.4.13&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;deploy_hash&quot;: &quot;faeb7e4f010c20c88d2dd126da545933c26fd8ce370282b8cd49f7f6fe7304b9&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If the contract name doesn&#x27;t change during concurrent deploys, the urefs/hashes will be overwritten in the account&#x27;s named keys.</p></div></div>
<p>Observing the deploy, we can see that it succeeded:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client get-deploy \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --node-address http://136.243.187.84:7777 af42bc6dbc58f677d138eb968d897f965f1ed118a40980bc16efbcc2a0c71832</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the <code>execution_results</code> JSON element we should see &quot;Success&quot;.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;execution_results&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;block_hash&quot;: &quot;bc3040214e46fe0eaa9d98150a8a67a1033b931619dbc3e5f1a841d3a2d6f869&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Success&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;cost&quot;: &quot;16580565260&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;effect&quot;: { ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Get the state root hash of the current network state:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client get-state-root-hash --node-address http://136.243.187.84:7777</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The result of invoking the<code>get-state-root-hash</code> command is:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;id&quot;: -3631326529646611302,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;api_version&quot;: &quot;1.4.13&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;state_root_hash&quot;: &quot;2f3e100324deb999107229dbec5c4b724653174328c99ea0836931248c3cc9cb&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Query the state of Casper network using the account hash:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  casper-client query-global-state \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --node-address http://136.243.187.84:7777 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --state-root-hash 2f3e100324deb999107229dbec5c4b724653174328c99ea0836931248c3cc9cb \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --key account-hash-ee57bb3b39eb66b74a1dcf12f3f0e7d8e906e34b11f85dc05497bf33fbf3a1f9</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If we check the account&#x27;s named keys, we can see all of the account&#x27;s deployed contracts:</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Account&#x27;s named keys</summary><div><div class="collapsibleContent_i85q">
<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;id&quot;: -6842818667609668962,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;api_version&quot;: &quot;1.4.13&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;block_header&quot;: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;merkle_proof&quot;: &quot;[30424 hex chars]&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;stored_value&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;Account&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;account_hash&quot;: &quot;account-hash-ee57bb3b39eb66b74a1dcf12f3f0e7d8e906e34b11f85dc05497bf33fbf3a1f9&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;action_thresholds&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;deployment&quot;: 1,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;key_management&quot;: 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;associated_keys&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;account_hash&quot;: &quot;account-hash-ee57bb3b39eb66b74a1dcf12f3f0e7d8e906e34b11f85dc05497bf33fbf3a1f9&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;weight&quot;: 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;main_purse&quot;: &quot;uref-453534c5c380862c2d814b5879f08fe6b5a3d4f031eaf20e08cf091d274035a5-007&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;named_keys&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;key&quot;: &quot;uref-94c54f24273f1fb874eff33f3d4211a254622edfd1b980d5e758bd719b46fd0d-007&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;Hello_world_access_uref&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;key&quot;: &quot;hash-7a581d353665b74779dc8d446d33a5086bb367a29a558490d1e524f9c12002d3&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;Hello_world_package_name&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;key&quot;: &quot;uref-ae2f94bf959ec06a80b2035f31d7e4c65c01bf24bbbf794a473bc743c4b2f655-007&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;contract2_access_uref&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;key&quot;: &quot;hash-a7810282c275d525f083a756aba6912513a4a494ae317503cf6018c0fbaf9c4d&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;contract2_package_name&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;key&quot;: &quot;hash-32ad0e54e874f68706708ebfd2c5aba7803eb64ccff71a50d3c4d4f29db15c92&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;cross_contract_2&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;key&quot;: &quot;hash-b7a06298cc71d4cac05929cc0713dfd5a541c68b71cb500cd04547b5cd0385ea&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;hello_world_contract&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</div></div></details>
<br><br>
<p>As we have now managed to deploy two contracts, we can call the entry point of this contract, passing appropriate arguments to the function.</p>
<p>The Uref of the message variable is stored under the Named Keys in the contract.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client query-global-state \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --node-address http://136.243.187.84:7777 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --state-root-hash 2f3e100324deb999107229dbec5c4b724653174328c99ea0836931248c3cc9cb \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --key hash-b7a06298cc71d4cac05929cc0713dfd5a541c68b71cb500cd04547b5cd0385ea</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;id&quot;: 2434670480361972874,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;api_version&quot;: &quot;1.4.13&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;block_header&quot;: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;merkle_proof&quot;: &quot;[25224 hex chars]&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;stored_value&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;Contract&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;contract_package_hash&quot;: &quot;contract-package-wasm7a581d353665b74779dc8d446d33a5086bb367a29a558490d1e524f9c12002d3&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;contract_wasm_hash&quot;: &quot;contract-wasm-c0384d4041950780bd3b167b4516a306e308e2d4729d08f6d2b10dfa1dbdaad6&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;entry_points&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;access&quot;: &quot;Public&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;args&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;cl_type&quot;: &quot;String&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;name&quot;: &quot;message&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;entry_point_type&quot;: &quot;Contract&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;update_msg&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;ret&quot;: &quot;Unit&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;named_keys&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;key&quot;: &quot;uref-aa758090d9bc1364754180f9f6bfc8821275038fd5d794a5dfb60bd2838a8670-007&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;message&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;protocol_version&quot;: &quot;1.4.13&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Checking the state of the message in the first contract, we observe the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client query-global-state \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --node-address http://136.243.187.84:7777 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --state-root-hash 2f3e100324deb999107229dbec5c4b724653174328c99ea0836931248c3cc9cb \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --key hash-b7a06298cc71d4cac05929cc0713dfd5a541c68b71cb500cd04547b5cd0385ea -q &quot;message&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is a simple <code>hello world</code> string. After invoking the entry point using the command below this value should change.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p><code>--session-hash</code> - is the contract hash, which is returned from the put-deploy.</p><p><code>--session-arg</code> &quot;hello world_contract:Key= ...&quot; - the hash of the contract which we want to call from within the contract identified by the session-hash.</p></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client put-deploy \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --node-address http://136.243.187.84:7777 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --chain-name casper-test \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --secret-key ./keys/secret_key.pem \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --payment-amount 20000000000 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --session-hash hash-32ad0e54e874f68706708ebfd2c5aba7803eb64ccff71a50d3c4d4f29db15c92 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --session-entry-point &quot;call_contract_2&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --session-arg &quot;new_message:string=&#x27;Hello new message!&#x27;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --session-arg &quot;hello_world_contract:Key=&#x27;hash-b7a06298cc71d4cac05929cc0713dfd5a541c68b71cb500cd04547b5cd0385ea&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The contract hash has to be of type <code>ContractHash</code> in the contract itself. We can pass the hash as a <code>Key</code> argument and change it to <code>ContractHash</code> in the smart contract.</p></div></div>
<p>The output of the above command is:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;id&quot;: -6419793201665396463,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;api_version&quot;: &quot;1.4.13&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;deploy_hash&quot;: &quot;15e11340d92fc9e64deb38bd942f4efb69caad0851eec24fd577070309d18537&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Check the deploy with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client get-deploy \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --node-address http://136.243.187.84:7777 15e11340d92fc9e64deb38bd942f4efb69caad0851eec24fd577070309d18537</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After the deploy finishes successfully, you should see a similar outcome to the following:</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Deploy details</summary><div><div class="collapsibleContent_i85q">
<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;id&quot;: 3968762702269106998,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;api_version&quot;: &quot;1.4.13&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;deploy&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;approvals&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;signature&quot;: &quot;01319eee9bcfde6963e5b47164dd2c8044f0c20dd59f0c2993db55bec6bd3802fec2c9c6cae6ca8993c8aee0440be43f6c38bdc4bbdce501837ff5ca66fbd7c902&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;signer&quot;: &quot;010e732fe2fbbcf62f2e46500d4cd8ff58a3bfd8dcb44c8b6f9a87dc5d573556af&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;hash&quot;: &quot;15e11340d92fc9e64deb38bd942f4efb69caad0851eec24fd577070309d18537&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;header&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;account&quot;: &quot;010e732fe2fbbcf62f2e46500d4cd8ff58a3bfd8dcb44c8b6f9a87dc5d573556af&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;body_hash&quot;: &quot;26282fa50b8e7c240025d683f197661ca846f2c1a3521a5dd604e6066d89d6d7&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;chain_name&quot;: &quot;casper-test&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;dependencies&quot;: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;gas_price&quot;: 1,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;timestamp&quot;: &quot;2023-03-09T14:39:24.974Z&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;ttl&quot;: &quot;30m&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;payment&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;ModuleBytes&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;args&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &quot;amount&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;bytes&quot;: &quot;0500c817a804&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;cl_type&quot;: &quot;U512&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;parsed&quot;: &quot;20000000000&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;module_bytes&quot;: &quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;session&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;StoredContractByHash&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;args&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &quot;new_message&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;bytes&quot;: &quot;1200000048656c6c6f206e6577206d65737361676521&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;cl_type&quot;: &quot;String&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;parsed&quot;: &quot;Hello new message!&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &quot;hello_world_contract&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;bytes&quot;: &quot;01b7a06298cc71d4cac05929cc0713dfd5a541c68b71cb500cd04547b5cd0385ea&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;cl_type&quot;: &quot;Key&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &quot;parsed&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;Hash&quot;: &quot;hash-b7a06298cc71d4cac05929cc0713dfd5a541c68b71cb500cd04547b5cd0385ea&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;entry_point&quot;: &quot;call_contract_2&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;hash&quot;: &quot;32ad0e54e874f68706708ebfd2c5aba7803eb64ccff71a50d3c4d4f29db15c92&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;execution_results&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;block_hash&quot;: &quot;9c81259ac5ef7b953656a9327a479ae771a15c5ef131c91216e9e697dfdb09eb&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Success&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;cost&quot;: &quot;462273650&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;effect&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &quot;operations&quot;: [],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &quot;transforms&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-8cf5e4acf51f54eb59291599187838dc3bc234089c46fc6ca8ad17e762ae4401&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-624dbe2395b9d9503fbee82162f1714ebff6b639f96d2084d26d944c354ec4c5&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-010c3fe81b7b862e50c77ef9a958a05bfa98444f26f96f23d37a13c96244cfb7&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-9824d60dc3a5c44a20b9fd260a412437933835b52fc683d8ae36e4ec2114843e&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;balance-453534c5c380862c2d814b5879f08fe6b5a3d4f031eaf20e08cf091d274035a5&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;balance-98d945f5324f865243b7c02c0417ab6eac361c5c56602fd42ced834a1ba201b6&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;balance-453534c5c380862c2d814b5879f08fe6b5a3d4f031eaf20e08cf091d274035a5&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &quot;WriteCLValue&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;bytes&quot;: &quot;0600876bf27301&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;cl_type&quot;: &quot;U512&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;parsed&quot;: &quot;1597500000000&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;balance-98d945f5324f865243b7c02c0417ab6eac361c5c56602fd42ced834a1ba201b6&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &quot;AddUInt512&quot;: &quot;20000000000&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-32ad0e54e874f68706708ebfd2c5aba7803eb64ccff71a50d3c4d4f29db15c92&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-a7810282c275d525f083a756aba6912513a4a494ae317503cf6018c0fbaf9c4d&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-b48ccc725ba948405d01205e64acff09ac24c899aed8d649f7bc1572216266c2&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-b7a06298cc71d4cac05929cc0713dfd5a541c68b71cb500cd04547b5cd0385ea&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-7a581d353665b74779dc8d446d33a5086bb367a29a558490d1e524f9c12002d3&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-c0384d4041950780bd3b167b4516a306e308e2d4729d08f6d2b10dfa1dbdaad6&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;uref-aa758090d9bc1364754180f9f6bfc8821275038fd5d794a5dfb60bd2838a8670-000&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &quot;WriteCLValue&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;bytes&quot;: &quot;1200000048656c6c6f206e6577206d65737361676521&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;cl_type&quot;: &quot;String&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;parsed&quot;: &quot;Hello new message!&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;deploy-15e11340d92fc9e64deb38bd942f4efb69caad0851eec24fd577070309d18537&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &quot;WriteDeployInfo&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;deploy_hash&quot;: &quot;15e11340d92fc9e64deb38bd942f4efb69caad0851eec24fd577070309d18537&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;from&quot;: &quot;account-hash-ee57bb3b39eb66b74a1dcf12f3f0e7d8e906e34b11f85dc05497bf33fbf3a1f9&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;gas&quot;: &quot;462273650&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;source&quot;: &quot;uref-453534c5c380862c2d814b5879f08fe6b5a3d4f031eaf20e08cf091d274035a5-007&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;transfers&quot;: []</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-8cf5e4acf51f54eb59291599187838dc3bc234089c46fc6ca8ad17e762ae4401&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-624dbe2395b9d9503fbee82162f1714ebff6b639f96d2084d26d944c354ec4c5&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;balance-98d945f5324f865243b7c02c0417ab6eac361c5c56602fd42ced834a1ba201b6&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-8cf5e4acf51f54eb59291599187838dc3bc234089c46fc6ca8ad17e762ae4401&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-010c3fe81b7b862e50c77ef9a958a05bfa98444f26f96f23d37a13c96244cfb7&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;hash-9824d60dc3a5c44a20b9fd260a412437933835b52fc683d8ae36e4ec2114843e&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;balance-98d945f5324f865243b7c02c0417ab6eac361c5c56602fd42ced834a1ba201b6&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;balance-bb9f47c30ddbe192438fad10b7db8200247529d6592af7159d92c5f3aa7716a1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: &quot;Identity&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;balance-98d945f5324f865243b7c02c0417ab6eac361c5c56602fd42ced834a1ba201b6&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &quot;WriteCLValue&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;bytes&quot;: &quot;00&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;cl_type&quot;: &quot;U512&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      &quot;parsed&quot;: &quot;0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;key&quot;: &quot;balance-bb9f47c30ddbe192438fad10b7db8200247529d6592af7159d92c5f3aa7716a1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  &quot;transform&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &quot;AddUInt512&quot;: &quot;20000000000&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;transfers&quot;: []</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</div></div></details>
<br><br>
<p>We would expect that the value of the message reference in the other contract would have changed, which we can check:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client query-global-state \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --node-address http://136.243.187.84:7777 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --state-root-hash 2f3e100324deb999107229dbec5c4b724653174328c99ea0836931248c3cc9cb \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --key hash-b7a06298cc71d4cac05929cc0713dfd5a541c68b71cb500cd04547b5cd0385ea -q &quot;message&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output of the above command is:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;id&quot;: -5477027327608594231,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;api_version&quot;: &quot;1.4.13&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;block_header&quot;: null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;merkle_proof&quot;: &quot;[61444 hex chars]&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;stored_value&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;CLValue&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;bytes&quot;: &quot;1200000048656c6c6f206e6577206d65737361676521&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cl_type&quot;: &quot;String&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;parsed&quot;: &quot;Hello new message!&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>With this we have succeeded in cross-contract communication between two contracts.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2>
<p>In this tutorial, we:</p>
<ul>
<li>Developed two Rust contracts on a Casper network, where one smart contract is calling an entry point of the second smart contract</li>
<li>Called an entry point on one contract from the other contract, passing a value as an argument to this entry point.</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-redux/next/resources/tutorials/advanced/storage-workflow/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Storage Workflow</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#outline" class="table-of-contents__link toc-highlight">Tutorial Outline</a></li><li><a href="#create-project" class="table-of-contents__link toc-highlight">Creating the Project</a></li><li><a href="#changing-contract" class="table-of-contents__link toc-highlight">Changing the Standard Contract</a></li><li><a href="#deploying-contract" class="table-of-contents__link toc-highlight">Deploying the Contract</a></li><li><a href="#cross-contract" class="table-of-contents__link toc-highlight">Create Another Contract for the Cross-Contract Call</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://casper.network/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/docs-redux/icon/Casper_Wordmark_Horizontal_Red_RGB.png" alt="Casper Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="120" height="30"><img src="/docs-redux/icon/Casper_Wordmark_Horizontal_White_RGB.png" alt="Casper Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="120" height="30"></a></div><div class="footer__copyright">Copyright © 2024 Casper Association. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>