<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-operators/becoming-a-validator/change-bid-public-key" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Change bid public key | Casper Docs - Redux</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://casper-devrel.github.io/docs-redux/next/operators/becoming-a-validator/change-bid-public-key/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Change bid public key | Casper Docs - Redux"><meta data-rh="true" name="description" content="The public key associated with a given validator bid can be changed through the auction contract&#x27;s changebidpublic_key entry point."><meta data-rh="true" property="og:description" content="The public key associated with a given validator bid can be changed through the auction contract&#x27;s changebidpublic_key entry point."><link data-rh="true" rel="icon" href="/docs-redux/icon/favicon.ico"><link data-rh="true" rel="canonical" href="https://casper-devrel.github.io/docs-redux/next/operators/becoming-a-validator/change-bid-public-key/"><link data-rh="true" rel="alternate" href="https://casper-devrel.github.io/docs-redux/next/operators/becoming-a-validator/change-bid-public-key/" hreflang="en"><link data-rh="true" rel="alternate" href="https://casper-devrel.github.io/docs-redux/next/operators/becoming-a-validator/change-bid-public-key/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://A1AAQ71KTN-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/docs-redux/blog/rss.xml" title="Casper Docs - Redux RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs-redux/blog/atom.xml" title="Casper Docs - Redux Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Casper Docs - Redux" href="/docs-redux/opensearch.xml"><link rel="stylesheet" href="/docs-redux/assets/css/styles.60332a77.css">
<script src="/docs-redux/assets/js/runtime~main.fce3d5e7.js" defer="defer"></script>
<script src="/docs-redux/assets/js/main.b1f2ca68.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-redux/"><div class="navbar__logo"><img src="/docs-redux/icon/Casper_Wordmark_Red_RGB.png" alt="Casper Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-redux/icon/Casper_Wordmark_White_RGB.png" alt="Casper Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs-redux/docs-redux//concepts/">Concepts</a><a class="navbar__item navbar__link" href="/docs-redux/docs-redux//developers/">Developers</a><a class="navbar__item navbar__link" href="/docs-redux/docs-redux//operators/">Operators</a><a class="navbar__item navbar__link" href="/docs-redux/docs-redux//users/">Users</a><a class="navbar__item navbar__link" href="/docs-redux/docs-redux//resources/">Resources</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs-redux/blog/tags/condor/">Condor</a><a class="navbar__item navbar__link" href="/docs-redux/blog/">Blog</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs-redux/next/operators/becoming-a-validator/change-bid-public-key/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs-redux/next/operators/becoming-a-validator/change-bid-public-key/">Next</a></li><li><a class="dropdown__link" href="/docs-redux/">1.5.6</a></li></ul></div><a href="https://support.casperlabs.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.com/invite/casperblockchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/casper-network/docs/blob/dev/README.md" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Casper Docs - Redux<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs-redux/">latest version</a></b> (<!-- -->1.5.6<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Changing the Public Key Associated with a Validator Bid</h1></header>
<p>The public key associated with a given validator bid can be changed through the auction contract&#x27;s <code>change_bid_public_key</code> entry point.</p>
<p>An example of this functionality would be to transfer ownership of a validator &quot;slot&quot; to a different party or to migrate a node to a backup server. By leveraging the system contract we can perform those operations more securely by making sure that no private key files need to be copied or transmitted between servers.</p>
<p>When the public key is changed all relevant delegations are also changed to be associated with the updated validator bid.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>For a public key change to be performed successfully there must not exist a validator bid associated with the target public key.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="method-1-calling-the-system-auction-contracts-change_bid_public_key-entry-point">Method 1: Calling the system auction contract&#x27;s <code>change_bid_public_key</code> entry point<a href="#method-1-calling-the-system-auction-contracts-change_bid_public_key-entry-point" class="hash-link" aria-label="Direct link to method-1-calling-the-system-auction-contracts-change_bid_public_key-entry-point" title="Direct link to method-1-calling-the-system-auction-contracts-change_bid_public_key-entry-point">​</a></h2>
<p>The public key associated with a given bid can be changed by calling the <code>change_bid_public_key</code> entry point of the system auction contract. Using this method, you do not need to build any contracts, which reduces costs and complexity.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo -u casper casper-client put-txn \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address &lt;HOST:PORT&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key &lt;PATH&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name &lt;CHAIN_NAME&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount &lt;PAYMENT_AMOUNT_IN_MOTES&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-hash &lt;SESSION_HASH&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-entry-point change_bid_public_key \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg=&quot;public_key:public_key=&#x27;&lt;PUBLIC_KEY_HEX&gt;&#x27;&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg=&quot;new_public_key:public_key=&#x27;&lt;PUBLIC_KEY_HEX&gt;&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li><code>node-address</code> - An IP address of a peer on the network. The default port of nodes&#x27; JSON-RPC servers on Mainnet and Testnet is 7777.</li>
<li><code>secret-key</code> - The file name containing the secret key of the account paying for the Transaction.</li>
<li><code>chain-name</code> - The chain-name to the network where you wish to send the Transaction. For Mainnet, use <em>casper</em>. For Testnet, use <em>casper-test</em>.</li>
<li><code>payment-amount</code> - The payment for the Transaction in motes. This entry point call needs 5 CSPR.</li>
<li><code>session-hash</code> - Hex-encoded hash of the stored auction contract, which depends on the network you are using. For Casper&#x27;s Mainnet and Testnet, the hashes are as follows:</li>
</ol>
<ul>
<li><strong>Testnet</strong>: <code>hash-93d923e336b20a4c4ca14d592b60e5bd3fe330775618290104f9beb326db7ae2</code></li>
<li><strong>Mainnet</strong>: <code>hash-ccb576d6ce6dec84a551e48f0d0b7af89ddba44c7390b690036257a04a3ae9ea</code></li>
</ul>
<ol start="6">
<li><code>session-entry-point</code> - Name of the entrypoint that will be used when calling the contract.</li>
</ol>
<p>The <code>change_bid_public_key</code> entry point expects two arguments:</p>
<ol start="7">
<li><code>public key</code>: The hexadecimal public key associated with a validator bid to be changed. This key must match the secret key that signs the transaction.</li>
<li><code>new_public key</code>: The hexadecimal public key intended to replace the original key associated with the bid.</li>
</ol>
<p>The command will return a transaction hash, which is needed to verify the transaction&#x27;s processing results.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Calling the <code>change_bid_public_key</code> entry point on the auction contract has a fixed cost of 5 CSPR.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="method-2-using-compiled-wasm">Method 2: Using compiled WASM<a href="#method-2-using-compiled-wasm" class="hash-link" aria-label="Direct link to Method 2: Using compiled WASM" title="Direct link to Method 2: Using compiled WASM">​</a></h2>
<p>You may also change the public key associated with a bid via a transaction containing the compiled <code>change_bid_public_key.wasm</code> binary. For details, refer to <a href="/docs-redux/next/operators/setup/joining/#step-3-build-contracts">Building the Required Contracts</a>.</p>
<p>The following transaction is a template for sending a request:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo -u casper casper-client put-txn session \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address http://&lt;HOST:PORT&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key /etc/casper/validator_keys/secret_key.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name &lt;CHAIN_NAME&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--category &lt;INSTALL-UPGRADE|LARGE|MEDIUM|SMALL&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--pricing-mode fixed \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--gas-price-tolerance &lt;GAS_PRICE_TOLERANCE&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--transaction-path $HOME/casper-node/target/wasm32-unknown-unknown/release/change_bid_public_key.wasm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-entry-point call \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg=&quot;public_key:public_key=&#x27;&lt;PUBLIC_KEY_HEX&gt;&#x27;&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg=&quot;new_public_key:public_key=&#x27;&lt;PUBLIC_KEY_HEX&gt;&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li><code>node-address</code> - An IP address of a peer on the network. The default port of nodes&#x27; JSON-RPC servers on Mainnet and Testnet is 7777.</li>
<li><code>secret-key</code> - The file name containing the secret key of the account paying for the Transaction.</li>
<li><code>chain-name</code> - The chain-name to the network where you wish to send the Transaction. For Mainnet, use <em>casper</em>. For Testnet, use <em>casper-test</em>.</li>
<li><code>gas-price-tolerance</code> - Maximum payment for the Transaction in motes.</li>
<li><code>transaction-path</code> - The path to the compiled Wasm on your computer.</li>
</ol>
<p>The <code>change_bid_public_key.wasm</code> expects two arguments:</p>
<ol start="7">
<li><code>public key</code>: The hexadecimal public key associated with a validator bid to be changed. This key must match the secret key that signs the transaction.</li>
<li><code>new_public key</code>: The hexadecimal public key intended to replace the original key associated with the bid.</li>
</ol>
<p>The command will return a transaction hash, which is needed to verify the transaction&#x27;s processing results.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This method is more expensive than calling the <code>change_bid_public_key</code> entrypoint in the system auction contract, which has a fixed cost of 5 CSPR.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bridge-records">Bridge records<a href="#bridge-records" class="hash-link" aria-label="Direct link to Bridge records" title="Direct link to Bridge records">​</a></h2>
<p>In order to continue handling pending unbonds and rewards distribution even if the public key associated with a validator bid has changed, we use dedicated <code>Bridge</code> records. These records connect the original public key to the new public key. By following those records we are able to find the current bid even if the public key was changed multiple times.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="limitations">Limitations<a href="#limitations" class="hash-link" aria-label="Direct link to Limitations" title="Direct link to Limitations">​</a></h2>
<p>Due to the way the <code>Bridge</code> record mechanism works there are some limitations regarding changing public keys to keep in mind:</p>
<ul>
<li>Because the <code>Bridge</code> record replaces the original bid, it&#x27;s not possible to then change the public key back to the original value, since it would create a loop</li>
<li>To avoid unbounded computation we also limit the number of <code>Bridge</code> records that can be processed in sequence to 20, which means that:
<ul>
<li>For unbonding or redelegation requests, if a validator bid public key is changed more than 20 times between the time a request is created and processed, the funds will be returned to a delegator&#x27;s main purse</li>
<li>For rewards distribution if the public key changes more than 20 times between the point a validator was elected for a given era and when the rewards are distributed, those rewards will be skipped and not distributed</li>
</ul>
</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#method-1-calling-the-system-auction-contracts-change_bid_public_key-entry-point" class="table-of-contents__link toc-highlight">Method 1: Calling the system auction contract&#39;s <code>change_bid_public_key</code> entry point</a></li><li><a href="#method-2-using-compiled-wasm" class="table-of-contents__link toc-highlight">Method 2: Using compiled WASM</a></li><li><a href="#bridge-records" class="table-of-contents__link toc-highlight">Bridge records</a></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://casper.network/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/docs-redux/icon/Casper_Wordmark_Horizontal_Red_RGB.png" alt="Casper Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="120" height="30"><img src="/docs-redux/icon/Casper_Wordmark_Horizontal_White_RGB.png" alt="Casper Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="120" height="30"></a></div><div class="footer__copyright">Copyright © 2024 Casper Association. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>