<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developers/cli/undelegate" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Undelegating Tokens | Casper Docs - Redux</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://casper-devrel.github.io/docs-redux/next/developers/cli/undelegate/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Undelegating Tokens | Casper Docs - Redux"><meta data-rh="true" name="description" content="This document details a workflow where tokens delegated to a validator on a Casper network can be undelegated."><meta data-rh="true" property="og:description" content="This document details a workflow where tokens delegated to a validator on a Casper network can be undelegated."><link data-rh="true" rel="icon" href="/docs-redux/icon/favicon.ico"><link data-rh="true" rel="canonical" href="https://casper-devrel.github.io/docs-redux/next/developers/cli/undelegate/"><link data-rh="true" rel="alternate" href="https://casper-devrel.github.io/docs-redux/next/developers/cli/undelegate/" hreflang="en"><link data-rh="true" rel="alternate" href="https://casper-devrel.github.io/docs-redux/next/developers/cli/undelegate/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://A1AAQ71KTN-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/docs-redux/blog/rss.xml" title="Casper Docs - Redux RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs-redux/blog/atom.xml" title="Casper Docs - Redux Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Casper Docs - Redux" href="/docs-redux/opensearch.xml"><link rel="stylesheet" href="/docs-redux/assets/css/styles.73c81181.css">
<script src="/docs-redux/assets/js/runtime~main.629a7ec4.js" defer="defer"></script>
<script src="/docs-redux/assets/js/main.f868636b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#f9f9f9;color:#000000" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">This is an Alpha version of the Casper Docs Redux. 
 Any suggestions please email to <a href="mailto:devrel@casper.network">devrel@casper.network</a>, or 
 submit an issue on <a href="https://github.com/casper-devrel/docs-redux/issues/new?assignees=&labels=docs-v2-feedback&projects=&template=feedback.yml&title=Docs+Feedback">Github<a></a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-redux/"><div class="navbar__logo"><img src="/docs-redux/icon/Casper_Wordmark_Red_RGB.png" alt="Casper Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-redux/icon/Casper_Wordmark_Red_RGB.png" alt="Casper Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs-redux/concepts/">Concepts</a><a class="navbar__item navbar__link" href="/docs-redux/developers/">Developers</a><a class="navbar__item navbar__link" href="/docs-redux/operators/">Operators</a><a class="navbar__item navbar__link" href="/docs-redux/users/">Users</a><a class="navbar__item navbar__link" href="/docs-redux/resources/">Resources</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/casper-devrel/docs-redux/issues/new?assignees=&amp;labels=docs-v2-feedback&amp;projects=&amp;template=feedback.yml&amp;title=Docs+Feedback" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Feedback</a><a class="navbar__item navbar__link" href="/docs-redux/blog/tags/condor/">Condor</a><a class="navbar__item navbar__link" href="/docs-redux/blog/">Blog</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs-redux/next/developers/cli/undelegate/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs-redux/next/developers/cli/undelegate/">Next</a></li><li><a class="dropdown__link" href="/docs-redux/developers/cli/undelegate/">1.5.6</a></li></ul></div><a href="https://support.casperlabs.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.com/invite/casperblockchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/casper-devrel/docs-redux" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/next/developers/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/next/developers/prerequisites/">Development Prerequisites</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-redux/next/developers/essential-crates/">Essential Rust Crates</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs-redux/next/writing-contracts/">Writing On-Chain Code</a><button aria-label="Expand sidebar category &#x27;Writing On-Chain Code&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs-redux/next/developers/json-rpc/">Casper JSON-RPC API</a><button aria-label="Expand sidebar category &#x27;Casper JSON-RPC API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs-redux/next/developers/dapps/">Building dApps</a><button aria-label="Expand sidebar category &#x27;Building dApps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs-redux/next/developers/cli/">Interacting with the Blockchain</a><button aria-label="Collapse sidebar category &#x27;Interacting with the Blockchain&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs-redux/next/developers/cli/transfers/">Transferring Tokens</a><button aria-label="Expand sidebar category &#x27;Transferring Tokens&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/developers/cli/delegate/">Delegating Tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/developers/cli/redelegate/">Redelegating Tokens with the Casper Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-redux/next/developers/cli/undelegate/">Undelegating Tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/developers/cli/sending-transactions/">Sending Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/developers/cli/installing-contracts/">Installing Contracts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/developers/cli/verifying-contracts/">Verifying Contracts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/developers/cli/querying-global-state/">Querying Global State</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/developers/cli/calling-contracts/">Calling Contracts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/developers/cli/opcode-costs/">OpCode Costs Tables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-redux/next/developers/cli/execution-error-codes/">Execution Error Codes</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Casper Docs - Redux<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs-redux/developers/cli/undelegate/">latest version</a></b> (<!-- -->1.5.6<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-redux/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs-redux/next/developers/cli/"><span itemprop="name">Interacting with the Blockchain</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Undelegating Tokens</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Undelegating Tokens with the Casper Client</h1></header>
<p>This document details a workflow where tokens delegated to a validator on a Casper network can be undelegated.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ol>
<li>You meet all <a href="/docs-redux/next/developers/prerequisites/">prerequisites</a>, including having a valid <code>node-address</code> and the Casper command-line client</li>
<li>You have <a href="/docs-redux/next/developers/cli/delegate/">delegated tokens</a> to a validator on a Casper network and you have the validator&#x27;s public key</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sending-the-undelegation-deploy">Sending the Undelegation Request<a href="#sending-the-undelegation-deploy" class="hash-link" aria-label="Direct link to Sending the Undelegation Request" title="Direct link to Sending the Undelegation Request">​</a></h2>
<p>There are two ways to undelegate CSPR from a validator. The recommended and cheaper method is to call the <code>undelegate</code> entry point from the system auction contract. The second method involves building the <code>undelegate.wasm</code> from the <code>casper-node</code> repository and installing it on the network.</p>
<p>We recommend testing the following steps on the official Testnet before performing them in a live environment like the Casper Mainnet.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="undelegating-system-auction">Method 1: Undelegating with the System Auction Contract<a href="#undelegating-system-auction" class="hash-link" aria-label="Direct link to Method 1: Undelegating with the System Auction Contract" title="Direct link to Method 1: Undelegating with the System Auction Contract">​</a></h3>
<p>This method calls the existing <code>undelegate</code> entry point from the system auction contract. Using this method, you do not need to build any contracts, reducing costs and complexity.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client put-deploy \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--node-address &lt;HOST:PORT&gt; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--secret-key &lt;PATH&gt; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--chain-name &lt;CHAIN_NAME&gt; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--payment-amount &lt;PAYMENT_AMOUNT_IN_MOTES&gt; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-hash &lt;SESSION_HASH&gt; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-entry-point undelegate \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;validator:public_key=&#x27;&lt;HEX_ENCODED_VALIDATOR_PULIC_KEY&gt;&#x27;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;amount:u512=&#x27;&lt;AMOUNT_TO_UNDELEGATE&gt;&#x27;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;delegator:public_key=&#x27;&lt;HEX_ENCODED_DELEGATOR_PULIC_KEY&gt;&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li><code>node-address</code> - An IP address of a peer on the network. The default port of nodes&#x27; JSON-RPC servers on Mainnet and Testnet is 7777</li>
<li><code>secret-key</code> - The file name containing the secret key of the account paying for the Deploy</li>
<li><code>chain-name</code> - The chain-name to the network where you wish to send the Deploy. For Mainnet, use <em>casper</em>. For Testnet, use <em>casper-test</em></li>
<li><code>payment-amount</code> - The payment for the Deploy in motes. This entry point call needs 2.5 CSPR for node version <a href="https://github.com/casper-network/casper-node/blob/release-1.5.1/resources/production/chainspec.toml" target="_blank" rel="noopener noreferrer">1.5.1</a></li>
<li><code>session-hash</code> - Hex-encoded hash of the stored auction contract, which depends on the network you are using. For Casper&#x27;s Mainnet and Testnet, the hashes are as follows:</li>
</ol>
<ul>
<li><strong>Testnet</strong>: <code>hash-93d923e336b20a4c4ca14d592b60e5bd3fe330775618290104f9beb326db7ae2</code></li>
<li><strong>Mainnet</strong>: <code>hash-ccb576d6ce6dec84a551e48f0d0b7af89ddba44c7390b690036257a04a3ae9ea</code></li>
</ul>
<ol start="6">
<li><code>session-entry-point</code> - Name of the entry point that will be used when calling the contract</li>
</ol>
<p>The <code>undelegate</code> entry point expects three arguments:</p>
<ol start="7">
<li><code>validator</code>: The hexadecimal public key of the validator from whom the tokens will be undelegated</li>
<li><code>amount</code>: The number of tokens to be undelegated</li>
<li><code>delegator</code>: The hexadecimal public key of the account undelegating tokens from a validator. <strong>This key must match the secret key that signs the delegation</strong></li>
</ol>
<p>The command will return a deploy hash, which is needed to verify the deploy&#x27;s processing results. Refer to the <a href="/docs-redux/next/resources/tutorials/beginner/querying-network/#deploy-status">Deploy Status</a> section for more details.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Calling the <code>undelegate</code> entry point on the auction contract has a fixed cost of 2.5 CSPR. There is no minimum amount required for the undelegation call.</p></div></div>
<p><strong>Example:</strong></p>
<p>This example shows an account delegating 100 CSPR:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client put-deploy \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--node-address http://65.21.75.254:7777  \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--chain-name casper-test \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--secret-key ~/KEYS/secret_key.pem \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--payment-amount 2500000000 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-hash hash-93d923e336b20a4c4ca14d592b60e5bd3fe330775618290104f9beb326db7ae2 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-entry-point undelegate \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;validator:public_key=&#x27;01aa17f7b9889480b1bd34c3f94f263b229c7a9b01dd4dda19c2dd1d38d176c7a0&#x27;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;amount:u512=&#x27;100000000000&#x27;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;delegator:public_key=&#x27;01e3d3392c2e0b943abe709b25de5c353e5e1e9d95c7a76e3dd343d8aa1aa08d51&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Next, <a href="#verifying-the-undelegation">confirm the undelegation</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="undelegating-compiled-wasm">Method 2: Undelegating with Compiled Wasm<a href="#undelegating-compiled-wasm" class="hash-link" aria-label="Direct link to Method 2: Undelegating with Compiled Wasm" title="Direct link to Method 2: Undelegating with Compiled Wasm">​</a></h3>
<p>As part of this process, you need to <a href="/docs-redux/next/developers/cli/delegate/#building-the-delegation-wasm">build the casper-node contracts</a> that produce the undelegation Wasm.</p>
<p>Next, use the Casper CLI client to send a deploy containing the <code>undelegate.wasm</code> to the network to initiate the undelegation process.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client put-deploy \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--node-address &lt;HOST:PORT&gt; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--secret-key &lt;PATH&gt; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--chain-name &lt;CHAIN_NAME&gt; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--payment-amount &lt;PAYMENT_AMOUNT_IN_MOTES&gt; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-path &lt;PATH_TO_WASM&gt;/undelegate.wasm \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;validator:public_key=&#x27;&lt;HEX_ENCODED_VALIDATOR_PULIC_KEY&gt;&#x27;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;amount:u512=&#x27;&lt;AMOUNT_TO_UNDELEGATE&gt;&#x27;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;delegator:public_key=&#x27;&lt;HEX_ENCODED_DELEGATOR_PULIC_KEY&gt;&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li><code>node-address</code> - An IP address of a peer on the network. The default port of nodes&#x27; JSON-RPC servers on Mainnet and Testnet is 7777</li>
<li><code>secret-key</code> - The file name containing the secret key of the account paying for the Deploy</li>
<li><code>chain-name</code> - The chain-name to the network where you wish to send the Deploy. For Mainnet, use <em>casper</em>. For Testnet, use <em>casper-test</em></li>
<li><code>payment-amount</code> - The payment for the Deploy in motes. This entry point call needs 2.5 CSPR for node version <a href="https://github.com/casper-network/casper-node/blob/release-1.5.1/resources/production/chainspec.toml" target="_blank" rel="noopener noreferrer">1.5.1</a></li>
<li><code>session-path</code> - The path to where the <code>delegate.wasm</code> is located</li>
</ol>
<p>The <code>undelegate</code> entry point expects three arguments:</p>
<ol start="6">
<li><code>validator</code>: The hexadecimal public key of the validator from whom the tokens will be undelegated</li>
<li><code>amount</code>: The number of tokens to be undelegated</li>
<li><code>delegator</code>: The hexadecimal public key of the account undelegating tokens from a validator. <strong>This key must match the secret key that signs the delegation</strong></li>
</ol>
<p>The command will return a deploy hash, which is needed to verify the deploy&#x27;s processing results. Refer to the <a href="/docs-redux/next/resources/tutorials/beginner/querying-network/#deploy-status">Deploy Status</a> section for more details.</p>
<p><strong>Example:</strong></p>
<p>This example command uses the Casper Testnet to undelegate 100 CSPR, and the payment amount is 6 CSPR. The payment amount varies based on each deploy and network <a href="/docs-redux/next/concepts/glossary/C/#chainspec">chainspec</a>. However, notice that this method is more expensive than the previous one that calls the undelegate entry point.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client put-deploy \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--node-address http://65.21.75.254:7777  \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--chain-name casper-test \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--secret-key ~/KEYS/secret_key.pem \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--payment-amount 6000000000 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-path ~/undelegate.wasm \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;validator:public_key=&#x27;01aa17f7b9889480b1bd34c3f94f263b229c7a9b01dd4dda19c2dd1d38d176c7a0&#x27;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;amount:u512=&#x27;100000000000&#x27;&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;delegator:public_key=&#x27;01e3d3392c2e0b943abe709b25de5c353e5e1e9d95c7a76e3dd343d8aa1aa08d51&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Next, <a href="#verifying-the-undelegation">confirm the undelegation</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="verifying-the-undelegation">Verifying the Undelegation<a href="#verifying-the-undelegation" class="hash-link" aria-label="Direct link to Verifying the Undelegation" title="Direct link to Verifying the Undelegation">​</a></h2>
<p>To verify that the undelegation succeeded, you can use the Casper command-line client to generate an RPC request to query the auction state. The subsequent RPC response will confirm that the undelegation request was successfully processed.</p>
<p>Here is how you can check the status of the auction to confirm that your bid was withdrawn:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">casper-client get-auction-info \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--node-address http://&lt;peer-ip-address&gt;:7777</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Request fields</strong>:</p>
<ul>
<li><code>node-address</code> - An IP address of a node on the network</li>
</ul>
<p>If the public key and the amount are absent from the <code>bids</code> structure, we can safely conclude that we have indeed undelegated from the validator.</p>
<p>If your account is on the official Testnet or Mainnet, you can use the block explorer to look up your account balance and see that the tokens have been added to your balance:</p>
<ol>
<li><a href="https://testnet.cspr.live/" target="_blank" rel="noopener noreferrer">Testnet explorer</a></li>
<li><a href="https://cspr.live/" target="_blank" rel="noopener noreferrer">Mainnet explorer</a></li>
</ol>
<p><strong>Important Note</strong>: After undelegating tokens from a validator, you must wait for the unbonding period to lapse before redelegating tokens to either the same validator or a different validator.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-redux/next/developers/cli/redelegate/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Redelegating Tokens with the Casper Client</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs-redux/next/developers/cli/sending-transactions/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sending Transactions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#sending-the-undelegation-deploy" class="table-of-contents__link toc-highlight">Sending the Undelegation Request</a><ul><li><a href="#undelegating-system-auction" class="table-of-contents__link toc-highlight">Method 1: Undelegating with the System Auction Contract</a></li><li><a href="#undelegating-compiled-wasm" class="table-of-contents__link toc-highlight">Method 2: Undelegating with Compiled Wasm</a></li></ul></li><li><a href="#verifying-the-undelegation" class="table-of-contents__link toc-highlight">Verifying the Undelegation</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://casper.network/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/docs-redux/icon/Casper_Wordmark_Horizontal_Red_RGB.png" alt="Casper Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="120" height="30"><img src="/docs-redux/icon/Casper_Wordmark_Horizontal_White_RGB.png" alt="Casper Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="120" height="30"></a></div><div class="footer__copyright">Copyright © 2024 Casper Association. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>